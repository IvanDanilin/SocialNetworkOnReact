(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{106:function(e,t,a){"use strict";a.r(t);var n=a(31),o=a(0),r=a.n(o),c=a(17),s=a(3),l=a(9),i=a(32),u=a.n(i),m=a(93),p=a.n(m),f=a(19),d=a(18),g=a(23),b=a(88),E=a.n(b),_=a(16),v=a(89),P=r.a.memo((function(e){var t=e.status,a=e.updateUserStatus,c=e.isMyProfile,s=Object(o.useState)(!1),l=Object(n.a)(s,2),i=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:E.a.status},r.a.createElement(v.b,{initialValues:{status:t},onSubmit:function(e,t){var n=e.status;n!==t.getState().initialValues.status&&a(n),u(!1)},render:function(e){var t=e.handleSubmit;return r.a.createElement(v.a,{onBlur:t,autoFocus:!0,component:"input",name:"status",maxLength:"300",parse:function(e){return e}})}})):t||c?r.a.createElement("div",{className:E.a.status},r.a.createElement("span",{onDoubleClick:c?function(){u(!0)}:void 0,title:c?"Double click to change your status":"",className:c?t?E.a.myStatus:E.a.enterStatus:""},t||"Enter your status...")):void 0)})),k=a(86),h=a(87),M=function(e){var t=e.contacts,a=e.pageEditMode,n=!1,o=Object.entries(t).map((function(e){return e[1]||a?(n=!0,r.a.createElement("div",{key:e[0],className:E.a.contactsItem},r.a.createElement("span",null,"".concat(e[0],": ")),a?r.a.createElement(v.a,{component:"input",name:e[0]}):e[1])):null}));return n||a?r.a.createElement("div",{className:E.a.contactsBlock},r.a.createElement("div",{className:E.a.contactsTitle},"Contacts:"),o):""},N=function(e){var t=e.aboutMe,a=e.lookingForAJob,n=e.lookingForAJobDescription,o=e.pageEditMode;return r.a.createElement("div",{className:E.a.aboutMeBlock},o?r.a.createElement(v.a,{component:h.b,name:"aboutMe",placeholder:"About me",validate:Object(k.b)("Required field")}):t?r.a.createElement("div",{className:E.a.pageInfoRow},r.a.createElement("span",null,"About me:")," ",t):"",r.a.createElement("div",{className:E.a.pageInfoRow},r.a.createElement("span",null,"Looking for a job: "),o?r.a.createElement(v.a,{component:"input",type:"checkbox",name:"lookingForAJob"}):a?"Yes":"No"),o?r.a.createElement(v.a,{component:h.b,name:"lookingForAJobDescription",placeholder:"Description",validate:Object(k.b)("Required field")}):n?r.a.createElement("div",{className:E.a.pageInfoRow},n):"")},I=function(e){var t=e.isMyProfile,a=e.setPageEditMode,n=e.pageEditMode,o=e.aboutMe,c=e.lookingForAJob,s=e.lookingForAJobDescription,l=e.contacts;return r.a.createElement("div",{className:E.a.personalInfoWrap},r.a.createElement("div",{className:E.a.topBorder},"Personal information",t&&!n&&r.a.createElement("button",{onClick:function(){return a(!0)},className:E.a.editModeButton,type:"button"},"Edit")),r.a.createElement("div",{className:E.a.personalInfo},r.a.createElement(N,{pageEditMode:n,aboutMe:o,lookingForAJob:c,lookingForAJobDescription:s}),r.a.createElement(M,{pageEditMode:n,contacts:l,isMyProfile:t})),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"submit",className:E.a.saveButton},"Save"),r.a.createElement("button",{onClick:function(){return a(!1)},className:E.a.cancelButton,type:"button"},"Cancel")))},y=function(e){var t=e.profile,a=e.defaultAvatar,n=e.isMyProfile,o=e.status,c=e.updateUserStatus,s=e.changeMyPhoto,l=e.pageEditMode,i=e.setPageEditMode,u=t.contacts,m=t.photos,p=t.fullName,f=t.aboutMe,d=t.lookingForAJob,g=t.lookingForAJobDescription;return r.a.createElement("div",{className:E.a.pageWrap},r.a.createElement("div",{className:E.a.avatar},r.a.createElement("img",{src:m.large||a,alt:"avatar"}),n&&r.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})),r.a.createElement("div",{className:E.a.pageInfoWrap},r.a.createElement("div",{className:E.a.pageName},l?r.a.createElement(v.a,{component:"input",name:"fullName"}):p),r.a.createElement(P,{isMyProfile:n,status:o,updateUserStatus:c}),r.a.createElement(I,{isMyProfile:n,setPageEditMode:i,pageEditMode:l,aboutMe:f,lookingForAJob:d,lookingForAJobDescription:g,contacts:u})))},B=function(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),c=a[0],s=a[1],l=e.profile,i=l.contacts,u=l.fullName,m=l.aboutMe,p=l.lookingForAJob,f=l.lookingForAJobDescription;return c?r.a.createElement(v.b,{initialValues:Object(_.a)({userId:e.userId,lookingForAJob:p,lookingForAJobDescription:f,fullName:u,aboutMe:m},i),onSubmit:function(t){e.changeUserData(t)},render:function(t){var a=t.handleSubmit;return r.a.createElement("form",{onSubmit:a},r.a.createElement(y,Object.assign({},e,{pageEditMode:c,setPageEditMode:s})))}}):r.a.createElement(y,Object.assign({setPageEditMode:s,pageEditMode:c},e))},A=r.a.memo((function(e){return r.a.createElement(v.b,{onSubmit:function(t,a){e.addPost(t.newPostInput),setTimeout(a.restart)},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{className:E.a.newPostBlock,onSubmit:t},r.a.createElement(v.a,{name:"newPostInput",component:h.a,validate:Object(k.a)("",1e3,"Enter the text of your message"),placeholder:"What's up?"}),r.a.createElement("div",{className:E.a.buttonWrap},r.a.createElement("button",{type:"submit"},"Add post")))}})})),O=r.a.memo((function(e){return r.a.createElement("div",{className:E.a.existingPostsBlock},e.posts.map((function(e){return r.a.createElement("div",{key:e.id,className:E.a.post},r.a.createElement("div",null,e.textPost),r.a.createElement("div",{className:E.a.likes},e.amountLikes," likes"))})).reverse())})),j=r.a.memo((function(e){var t=e.topImage,a=e.isMyProfile,n=e.profile,o=e.defaultAvatar,c=e.status,s=e.updateUserStatus,l=e.addPost,i=e.existingPosts,u=e.isAuth,m=e.changeMyPhoto,p=e.userId,f=e.changeUserData;return r.a.createElement("div",{className:E.a.profile},r.a.createElement("div",{className:E.a.topImage},r.a.createElement("img",{src:t,alt:"cover"})),r.a.createElement("div",{className:E.a.contentBlockWrapper},r.a.createElement("div",{className:E.a.contentBlock},r.a.createElement(B,{isMyProfile:a,profile:n,defaultAvatar:o,status:c,updateUserStatus:s,changeMyPhoto:m,userId:p,changeUserData:f}),r.a.createElement("div",{className:E.a.postsBlock},u?r.a.createElement(A,{addPost:l}):"",r.a.createElement(O,{posts:i})))))})),S={updateUserStatus:d.h,getAuthUserData:f.b,addPost:d.a,getProfile:d.f,changeMyPhoto:d.b,changeUserData:d.c};t.default=Object(l.d)(Object(c.b)((function(e){return{topImage:p.a,defaultAvatar:u.a,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId,existingPosts:e.profilePage.existingPosts}}),S),s.f)((function(e){var t=e.match.params.userId,a=e.authUserId,c=e.getProfile,l=e.isAuth,i=e.profile,u=+t,m=Object(o.useState)(!1),p=Object(n.a)(m,2),f=p[0],d=p[1];return Object(o.useEffect)((function(){u&&(a===u&&d(!0),c(u))}),[u,a,c]),Object(o.useEffect)((function(){l||d(!1)}),[l]),u?i?r.a.createElement(j,Object.assign({},e,{userId:a,isMyProfile:f})):r.a.createElement(g.a,null):l?r.a.createElement(s.a,{to:"/profile/".concat(a)}):r.a.createElement(s.a,{to:"/login"})}))},86:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));var n=function(e){return function(t){return t?void 0:e}},o=function(e,t,a){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}}(function(e){return function(t){return t&&t.length<e?"Min length is ".concat(e," symbols"):void 0}}(e),function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(t),n(a))}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(90),o=a(0),r=a.n(o),c=function(e){var t=e.input,a=e.meta,o=Object(n.a)(e,["input","meta"]),c=o.element;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,Object.assign({},t,{placeholder:o.placeholder,autoFocus:o.autoFocus,maxLength:o.maxLength})),a.error&&(t.value.length>5||a.touched)&&r.a.createElement("span",null,a.error))},s=function(e){return r.a.createElement(c,Object.assign({element:"input"},e))},l=function(e){return r.a.createElement(c,Object.assign({element:"textarea"},e))}},88:function(e,t,a){e.exports={profile:"Profile_profile__3cqaC",topImage:"Profile_topImage__1QeV6",contentBlockWrapper:"Profile_contentBlockWrapper__1FqB6",contentBlock:"Profile_contentBlock__65spg",pageWrap:"Profile_pageWrap__3msTY",avatar:"Profile_avatar__2HO6t",pageInfoWrap:"Profile_pageInfoWrap__1UdYi",pageName:"Profile_pageName__13q-Z",status:"Profile_status__1rx6s",myStatus:"Profile_myStatus__mCoRb",enterStatus:"Profile_enterStatus__1MqOo",personalInfoWrap:"Profile_personalInfoWrap__2PMRp",topBorder:"Profile_topBorder__1s0dm",editModeButton:"Profile_editModeButton__P3IND",personalInfo:"Profile_personalInfo__1EwfG",aboutMeBlock:"Profile_aboutMeBlock__1vcdq",pageInfoRow:"Profile_pageInfoRow__JDm_r",contactsBlock:"Profile_contactsBlock__1OIs0",contactsTitle:"Profile_contactsTitle__3FTfj",contactsItem:"Profile_contactsItem__30pyP",postsBlock:"Profile_postsBlock__zeNoh",newPostBlock:"Profile_newPostBlock__giv8A",buttonWrap:"Profile_buttonWrap__1RmpI",existingPostsBlock:"Profile_existingPostsBlock__2kvb8",post:"Profile_post__2MTw2",likes:"Profile_likes__2O56D"}},93:function(e,t,a){e.exports=a.p+"static/media/les_tuman_derevia.712fe5c8.jpg"}}]);
//# sourceMappingURL=5.8f7f752d.chunk.js.map