(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{119:function(e,t,a){e.exports={profile:"Profile_profile__24dQj",topImage:"Profile_topImage__3k5gz",contentBlockWrapper:"Profile_contentBlockWrapper__3ipwh",contentBlock:"Profile_contentBlock__3q3HQ",postsBlock:"Profile_postsBlock__2Gd1F",newPostBlock:"Profile_newPostBlock__1uYCA",textField:"Profile_textField__10hK3",buttonWrap:"Profile_buttonWrap__2jvY0",visibleButton:"Profile_visibleButton__2bheb",existingPostsBlock:"Profile_existingPostsBlock__3nIZ5",post:"Profile_post__dM7oM",likes:"Profile_likes__J4shs"}},138:function(e,t,a){e.exports={defaultElement:"FormControls_defaultElement__2Hj9l",error:"FormControls_error__hOQi8"}},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var o=a(21),n=a(25);function r(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=a(0),l=a.n(c),s=a(138),i=a.n(s),u=a(26),m=a.n(u),f=function(e){var t=e.error,a=e.touched,s=e.serverError,u=r(e,["error","touched","serverError"]),f=u.element,p=Object(c.useState)(!1),d=Object(n.a)(p,2),g=d[0],_=d[1];return Object(c.useEffect)((function(){var e;return t&&a&&(_(!0),e=setTimeout((function(){_(!1)}),1e3)),function(){return clearTimeout(e)}}),[t,a]),Object(c.useEffect)((function(){var e;return s&&(_(!0),e=setTimeout((function(){_(!1)}),1e3)),function(){return clearTimeout(e)}}),[s]),l.a.createElement(f,Object.assign({},u,{className:m()([i.a.defaultElement],Object(o.a)({},i.a.error,g))}))},p=function(e){return l.a.createElement(f,Object.assign({element:"input"},e))},d=function(e){return l.a.createElement(f,Object.assign({element:"textarea"},e))}},147:function(e,t,a){e.exports={pageWrap:"PageInfo_pageWrap__1JWAl",page:"PageInfo_page__1xNWf",pageHead:"PageInfo_pageHead__3cuSy",avatar:"PageInfo_avatar__3oNFW",isExist:"PageInfo_isExist__3W9vI",mainInfo:"PageInfo_mainInfo__1TFtc",pageName:"PageInfo_pageName__1C-qF",status:"PageInfo_status__1isHg",myStatus:"PageInfo_myStatus__2io3W",enterStatus:"PageInfo_enterStatus__SIOj_",personalInfoWrap:"PageInfo_personalInfoWrap__2Uo3L",topBorder:"PageInfo_topBorder__2yvHs",editModeButton:"PageInfo_editModeButton__16xZE",personalInfo:"PageInfo_personalInfo__Xq_xe",aboutMeBlock:"PageInfo_aboutMeBlock__3_SCd",pageInfoRow:"PageInfo_pageInfoRow__1F2Vi",contactsBlock:"PageInfo_contactsBlock__22k27",contactsTitle:"PageInfo_contactsTitle__2soNv",contactsItem:"PageInfo_contactsItem__1IhFT",photoFullWindowWrap:"PageInfo_photoFullWindowWrap__1uZOB",photoFullwindow:"PageInfo_photoFullwindow__-lpwC"}},182:function(e,t,a){e.exports=a.p+"static/media/les_tuman_derevia.712fe5c8.jpg"},192:function(e,t,a){e.exports={pageInfoFormWrap:"PageInfoForm_pageInfoFormWrap__1uaxI",inputItem:"PageInfoForm_inputItem__CtPwK",nameItem:"PageInfoForm_nameItem__3RBTM",checkboxField:"PageInfoForm_checkboxField__2Z1h8",textField:"PageInfoForm_textField__3eeoX",contactsTitle:"PageInfoForm_contactsTitle__3nvBh",buttons:"PageInfoForm_buttons__1aJw8",errorsWrap:"PageInfoForm_errorsWrap__2cczM",errors:"PageInfoForm_errors__3yN6N",blinkError:"PageInfoForm_blinkError__1Vu7B"}},193:function(e,t,a){e.exports={error:"Error_error__u3ZN2"}},247:function(e,t,a){"use strict";a.r(t);var o=a(25),n=a(0),r=a.n(n),c=a(16),l=a(3),s=a(10),i=a(32),u=a.n(i),m=a(182),f=a.n(m),p=a(18),d=a(19),g=a(22),_=a(119),b=a.n(_),E=a(21),v=a(147),P=a.n(v),h=a(106),I=a(26),N=a.n(I),k=r.a.memo((function(e){var t,a=e.status,c=e.updateUserStatus,l=e.isMyProfile,s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:P.a.status},r.a.createElement(h.b,{initialValues:{status:a},onSubmit:function(e,t){var a=e.status;c(a),m(!1)}},(function(e){var t=e.handleSubmit;return r.a.createElement(h.a,{onBlur:t,autoFocus:!0,component:"input",name:"status",maxLength:"300"})}))):a||l?r.a.createElement("div",{className:P.a.status},r.a.createElement("span",{onClick:l?function(){m(!0)}:void 0,title:l?"Click to change your status":"",className:N()((t={},Object(E.a)(t,P.a.myStatus,l),Object(E.a)(t,P.a.enterStatus,!a),t))},a||"Enter your status...")):void 0)})),F=function(e){var t=e.photo,a=e.setIsPhotoFullWindow;return Object(n.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="auto"}})),r.a.createElement("div",{className:P.a.photoFullWindowWrap,onClick:function(){return a(!1)}},r.a.createElement("div",{className:P.a.photoFullwindow},r.a.createElement("img",{src:t,alt:""})))},j=function(e){var t,a=e.contacts,o=!1;return a&&(t=Object.entries(a).map((function(e){return e[1]?(o=!0,r.a.createElement("div",{key:e[0],className:P.a.contactsItem},r.a.createElement("span",{className:P.a.contactName},"".concat(e[0],": ")),r.a.createElement("a",{href:e[1],rel:"noopener noreferrer",target:"_blank"},e[1]))):""}))),r.a.createElement("div",{className:P.a.contactsBlock},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.contactsTitle},"Contacts:"),t):"")},O=function(e){var t=e.aboutMe,a=e.lookingForAJob,o=e.lookingForAJobDescription;return r.a.createElement("div",{className:P.a.aboutMeBlock},t?r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"About me:"),t):"",r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"Looking for a job: "),a?"Yes":"No"),o?r.a.createElement("div",{className:P.a.pageInfoRow},o):"")},y=function(e){var t=e.defaultAvatar,a=e.isMyProfile,c=e.status,l=e.updateUserStatus,s=e.changeMyPhoto,i=e.setPageEditMode,u=e.profile,m=u.contacts,f=u.photos,p=u.fullName,d=u.aboutMe,g=u.lookingForAJob,_=u.lookingForAJobDescription,b=Object(n.useState)(!1),v=Object(o.a)(b,2),h=v[0],I=v[1];return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(F,{setIsPhotoFullWindow:I,photo:f.large}),r.a.createElement("div",{className:P.a.pageWrap},r.a.createElement("div",{className:P.a.page},r.a.createElement("div",{className:P.a.pageHead},r.a.createElement("div",{className:P.a.avatar},r.a.createElement("img",{onClick:f.large&&function(){return I(!0)},src:f&&(f.large||t),className:N()(Object(E.a)({},P.a.isExist,f.large)),alt:"avatar"}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"setPhoto",type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"setPhoto"},"Set photo"))),r.a.createElement("div",{className:P.a.mainInfo},r.a.createElement("div",{className:P.a.pageName},p),r.a.createElement(k,{isMyProfile:a,status:c,updateUserStatus:l}))),r.a.createElement("div",{className:P.a.personalInfoWrap},r.a.createElement("div",{className:P.a.topBorder},"Personal information",a&&r.a.createElement("button",{onClick:function(){return i(!0)},className:P.a.editModeButton,type:"button"},"Edit")),r.a.createElement("div",{className:P.a.personalInfo},r.a.createElement(O,{aboutMe:d,lookingForAJob:g,lookingForAJobDescription:_}),r.a.createElement(j,{contacts:m}))))))},w=a(139),S=a(234),x=a(2),B=a(84),M=(a(20),a(86)),W=a(87),A=a(89),T=n.forwardRef((function(e,t){var a=e.classes,o=e.className,r=e.color,c=void 0===r?"inherit":r,l=e.component,s=void 0===l?"span":l,i=e.fontSize,u=void 0===i?"default":i,m=Object(B.a)(e,["classes","className","color","component","fontSize"]);return n.createElement(s,Object(x.a)({className:Object(M.a)("material-icons",a.root,o,"inherit"!==c&&a["color".concat(Object(A.a)(c))],"default"!==u&&a["fontSize".concat(Object(A.a)(u))]),"aria-hidden":!0,ref:t},m))}));T.muiName="Icon";var D=Object(W.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(T),J=a(246),C=w.a().shape({newPostInput:w.b().required().max(100)}),U=r.a.memo((function(e){return r.a.createElement(h.b,{initialValues:{newPostInput:""},validationSchema:C,onSubmit:function(t,a){e.addPost(t.newPostInput),a.resetForm()}},(function(e){var t=e.handleSubmit,a=e.errors,o=e.touched,n=e.values;return r.a.createElement("form",{className:b.a.newPostBlock,onSubmit:t},r.a.createElement(h.a,{as:J.a,name:"newPostInput",touched:o.newPostInput,error:a.newPostInput,placeholder:"What's up?",multiline:!0,label:"New post",rowsMax:4,className:b.a.textField}),r.a.createElement("div",{className:N()(b.a.buttonWrap,Object(E.a)({},b.a.visibleButton,n.newPostInput))},r.a.createElement(S.a,{type:"submit",variant:"contained",color:"primary",endIcon:r.a.createElement(D,null,"send")},"Add post")))}))})),z=r.a.memo((function(e){return r.a.createElement("div",{className:b.a.existingPostsBlock},e.posts.map((function(e){return r.a.createElement("div",{key:e.id,className:b.a.post},r.a.createElement("div",null,e.textPost),r.a.createElement("div",{className:b.a.likes},e.amountLikes," likes"))})).reverse())})),R=a(1),H=a.n(R),L=a(4),Y=a(192),V=a.n(Y),Z=a(143),q=a(88),Q=function(e){var t=e.errors,a=Object(n.useState)(0),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],f=u[1];return Object(n.useEffect)((function(){var e,a;return t&&t.any&&t.any.length>1&&(e=setTimeout((function(){t&&t.any&&l<t.any.length-1?(s(l+1),f(!0),a=setTimeout((function(){f(!1)}),500)):(s(0),f(!0),a=setTimeout((function(){f(!1)}),500))}),2e3)),function(){clearTimeout(e),clearTimeout(a)}}),[t,l]),r.a.createElement("div",{className:V.a.errorsWrap},t.any?r.a.createElement("div",{className:N()(V.a.errors,Object(E.a)({},V.a.blinkError,m))},t.any[l]):"")},K=function(e){var t=e.setPageEditMode,a=e.profile,o=a.contacts,n=a.fullName,c=a.aboutMe,l=a.lookingForAJob,s=a.lookingForAJobDescription,i=e.changeUserData;return Object(q.a)(),r.a.createElement(h.b,{initialValues:{contacts:o,fullName:n,aboutMe:c,lookingForAJob:l,lookingForAJobDescription:s},onSubmit:function(){var e=Object(L.a)(H.a.mark((function e(t,a){var o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:(o=e.sent)&&a.setErrors(o);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,n=e.errors,c=e.touched,l=e.values;return r.a.createElement("div",{className:V.a.pageInfoFormWrap},r.a.createElement("form",{onSubmit:a},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Personal info"),r.a.createElement("div",{className:N()(V.a.fullName,V.a.inputItem)},r.a.createElement("div",{className:V.a.nameItem},"Your name: "),r.a.createElement("div",{className:V.a.textField},r.a.createElement(h.a,{as:Z.a,name:"fullName",placeholder:"Your name",error:n.fullName,touched:c.fullName}))),r.a.createElement("div",{className:V.a.aboutMeBlock},r.a.createElement("div",{className:V.a.inputItem},r.a.createElement("div",{className:V.a.nameItem},"About me: "),r.a.createElement("div",{className:V.a.textField},r.a.createElement(h.a,{as:Z.b,name:"aboutMe",placeholder:"About me",error:n.aboutMe,touched:c.aboutMe}))),r.a.createElement("div",{className:V.a.inputItem},r.a.createElement("label",{className:V.a.nameItem,htmlFor:"lookingForAJob"},"Looking for a job:"," "),r.a.createElement("div",{className:V.a.checkboxField},r.a.createElement(h.a,{type:"checkbox",name:"lookingForAJob"}))),r.a.createElement("div",{className:V.a.inputItem},r.a.createElement("div",{className:V.a.nameItem},"Your skills: "),r.a.createElement("div",{className:V.a.textField},r.a.createElement(h.a,{as:Z.b,name:"lookingForAJobDescription",placeholder:"Description",error:n.lookingForAJobDescription,touched:c.lookingForAJobDescription})))),r.a.createElement("div",{className:V.a.contactsBlock},r.a.createElement("div",{className:V.a.contactsTitle},"Contacts:"),Object.entries(o).map((function(e){return r.a.createElement("div",{key:e[0],className:N()(V.a.contactsItem,V.a.inputItem)},r.a.createElement("div",{className:V.a.nameItem},"".concat(e[0],": ")),r.a.createElement("div",{className:V.a.textField},r.a.createElement(h.a,{as:Z.a,name:"contacts.".concat(e[0]),value:l.contacts[e[0]]||"",error:n&&n.contacts&&n.contacts[e[0]],touched:c&&c.contacts&&c.contacts[e[0]]})))}))),r.a.createElement("div",{className:V.a.buttons},r.a.createElement("button",{type:"submit",className:V.a.saveButton},"Save"),r.a.createElement("button",{onClick:function(){return t(!1)},className:V.a.cancelButton,type:"button"},"Cancel"))),r.a.createElement(Q,{errors:n})))}))},X=r.a.memo((function(e){var t=e.topImage,a=e.isMyProfile,c=e.profile,l=e.defaultAvatar,s=e.status,i=e.updateUserStatus,u=e.addPost,m=e.existingPosts,f=e.isAuth,p=e.changeMyPhoto,d=e.userId,g=e.changeUserData,_=Object(n.useState)(!1),E=Object(o.a)(_,2),v=E[0],P=E[1];return Object(q.a)(),v?r.a.createElement(K,{setPageEditMode:P,profile:c,changeUserData:g}):r.a.createElement("div",{className:b.a.profile},r.a.createElement("div",{className:b.a.topImage},r.a.createElement("img",{src:t,alt:"cover"})),r.a.createElement("div",{className:b.a.contentBlockWrapper},r.a.createElement("div",{className:b.a.contentBlock},r.a.createElement(y,{isMyProfile:a,profile:c,defaultAvatar:l,status:s,updateUserStatus:i,changeMyPhoto:p,userId:d,setPageEditMode:P}),r.a.createElement("div",{className:b.a.postsBlock},f?r.a.createElement(U,{addPost:u}):"",r.a.createElement(z,{posts:m})))))})),G=a(193),$=a.n(G),ee=function(){return r.a.createElement("div",{className:$.a.error},"Oops! Something went wrong...")},te={updateUserStatus:d.j,getAuthUserData:p.b,addPost:d.a,getProfile:d.f,changeMyPhoto:d.b,changeUserData:d.c,setUserProfile:d.i,setErrorDownloadProfile:d.g};t.default=Object(s.d)(Object(c.b)((function(e){return{topImage:f.a,defaultAvatar:u.a,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId,existingPosts:e.profilePage.existingPosts,errorDownloadProfile:e.profilePage.errorDownloadProfile,isFetchingProfile:e.profilePage.isFetchingProfile}}),te),l.h,r.a.memo)((function(e){var t=e.match.params.userId,a=e.authUserId,c=e.getProfile,s=e.isAuth,i=e.profile,u=e.errorDownloadProfile,m=e.setErrorDownloadProfile,f=e.setUserProfile,p=+t,d=Object(n.useState)(!1),_=Object(o.a)(d,2),b=_[0],E=_[1];return Object(n.useEffect)((function(){if(p)return a===p&&E(!0),c(p),function(){m(!1),f(null)}}),[p,a,c,f,m]),Object(n.useEffect)((function(){s||E(!1)}),[s]),p?r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(ee,null),i?r.a.createElement(X,Object.assign({},e,{isMyProfile:b})):r.a.createElement(g.a,null)):s?r.a.createElement(l.a,{to:"/profile/".concat(a)}):r.a.createElement(l.a,{to:"/login"})}))},88:function(e,t,a){"use strict";var o=a(0),n=a(3);t.a=function(){var e=Object(n.g)().pathname;return Object(o.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}}}]);
//# sourceMappingURL=5.a5631914.chunk.js.map