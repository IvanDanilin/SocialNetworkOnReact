(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[4],{106:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(34),u=n(4),o=n(30),c=n(21),l=n(0),s=n.n(l),f=n(17),d=n(3),m=n(19),p=n(88),b=n.n(p),v=n(83),g=n(87),h=n(85),E=n(23),O=function(e){return s.a.createElement(v.b,{initialValues:{rememberMe:!0,passwordShown:!1},onSubmit:function(t){var n=t.email,r=t.password,a=t.rememberMe,i=t.captcha;return e.onSubmit({email:n,password:r,rememberMe:a,captcha:i})},render:function(t){var n=t.handleSubmit,r=t.pristine,a=t.form,i=t.submitting,u=t.submitError,o=t.values;return s.a.createElement("form",{onSubmit:n},e.loading&&s.a.createElement(E.a,null),s.a.createElement("div",{className:b.a.textInputWrap},s.a.createElement(v.a,{name:"email",component:h.a,placeholder:"Enter your email",validate:Object(g.a)(3,30,"Required field")})),s.a.createElement("div",{className:b.a.textInputWrap},s.a.createElement(v.a,{name:"password",component:h.a,type:o.passwordShown?"text":"password",placeholder:"Enter your password",validate:Object(g.a)(3,30,"Required field")})),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement(v.a,{type:"checkbox",component:"input",name:"passwordShown"})," ","Show password")),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement(v.a,{type:"checkbox",component:"input",name:"rememberMe"})," ","Remember me")),e.captchaUrl&&s.a.createElement("div",{className:b.a.captcha},s.a.createElement("div",{className:b.a.captchaImg},s.a.createElement("button",{type:"button",onClick:e.getCaptcha},s.a.createElement("img",{src:e.refreshImg,alt:""})),s.a.createElement("img",{src:e.captchaUrl,alt:"Captcha"})),s.a.createElement("div",{className:b.a.textInputWrap},s.a.createElement(v.a,{component:h.a,name:"captcha",validate:Object(g.b)("Requred field"),placeholder:"Type the characters above"}))),s.a.createElement("div",{className:b.a.buttons},s.a.createElement("button",{type:"submit",disabled:i},"Log in"),s.a.createElement("button",{type:"button",disabled:r||i,onClick:a.reset},"Clear")),s.a.createElement("div",{className:b.a.error},u&&u))}})},y=n(93),j=n.n(y);t.default=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,authUserId:e.auth.userId,captchaUrl:e.auth.captchaUrl}}),{signIn:m.d,getAuthUserData:m.b,getCaptcha:m.c})((function(e){var t=Object(l.useState)(!1),n=Object(o.a)(t,2),r=n[0],f=n[1],m=function(){var t=Object(u.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,e.signIn(n);case 3:if(r=t.sent,f(!1),!r){t.next=7;break}return t.abrupt("return",Object(i.a)({},c.a,r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.isAuth?s.a.createElement(d.a,{to:"/profile/".concat(e.authUserId)}):s.a.createElement("div",{className:b.a.loginContainer},s.a.createElement("div",{className:b.a.greeting},s.a.createElement("p",null,"Welcome! For future use, enter the following data for authorization:"),s.a.createElement("p",null,"Email: ",s.a.createElement("mark",null,"free@samuraijs.com")),s.a.createElement("p",null,"Password: ",s.a.createElement("mark",null,"free"))),s.a.createElement(O,{refreshImg:j.a,captchaUrl:e.captchaUrl,onSubmit:m,loading:r,getCaptcha:e.getCaptcha}))}))},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return h}));var r=n(1),a=n(5),i=n(0),u=n.n(i),o=n(21);function c(e,t,n){var r=e.render,u=e.children,o=e.component,c=Object(a.a)(e,["render","children","component"]);if(o)return Object(i.createElement)(o,Object.assign(t,c,{children:u,render:r}));if(r)return r(void 0===u?Object.assign(t,c):Object.assign(t,c,{children:u}));if("function"!==typeof u)throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return u(Object.assign(t,c))}function l(e,t,n){void 0===n&&(n=function(e,t){return e===t});var r=u.a.useRef(e);u.a.useEffect((function(){n(e,r.current)||(t(),r.current=e)}))}var s=function(e,t){if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var u=n[i];if(!a(u)||e[u]!==t[u])return!1}return!0},f=function(e){return!(!e||"function"!==typeof e.stopPropagation)},d=Object(i.createContext)();function m(e){var t=u.a.useRef(e);return u.a.useEffect((function(){t.current=e})),t}var p=function(e,t,n){n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},enumerable:!0})}))},b=function(e,t){return p(e,t,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},v={"final-form":o.e,"react-final-form":"6.5.0"},g=o.d.reduce((function(e,t){return e[t]=!0,e}),{});function h(e){var t=e.debug,n=e.decorators,p=e.destroyOnUnregister,h=e.form,E=e.initialValues,O=e.initialValuesEqual,y=e.keepDirtyOnReinitialize,j=e.mutators,S=e.onSubmit,w=e.subscription,x=void 0===w?g:w,k=e.validate,C=e.validateOnBlur,F=Object(a.a)(e,["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"]),V={debug:t,destroyOnUnregister:p,initialValues:E,keepDirtyOnReinitialize:y,mutators:j,onSubmit:S,validate:k,validateOnBlur:C},_=function(e){var t=u.a.useRef();return t.current||(t.current=e()),t.current}((function(){var e=h||Object(o.b)(V);return e.pauseValidation(),e})),I=Object(i.useState)((function(){var e={};return _.subscribe((function(t){e=t}),x)(),e})),U=I[0],L=I[1],N=m(U);Object(i.useEffect)((function(){_.isValidationPaused()&&_.resumeValidation();var e=[_.subscribe((function(e){s(e,N.current)||L(e)}),x)].concat(n?n.map((function(e){return e(_)})):[]);return function(){_.pauseValidation(),e.reverse().forEach((function(e){return e()}))}}),[n]),l(t,(function(){_.setConfig("debug",t)})),l(p,(function(){_.destroyOnUnregister=!!p})),l(y,(function(){_.setConfig("keepDirtyOnReinitialize",y)})),l(E,(function(){_.setConfig("initialValues",E)}),O||s),l(j,(function(){_.setConfig("mutators",j)})),l(S,(function(){_.setConfig("onSubmit",S)})),l(k,(function(){_.setConfig("validate",k)})),l(C,(function(){_.setConfig("validateOnBlur",C)}));var R={form:Object(r.a)({},_,{reset:function(e){f(e)?_.reset():_.reset(e)}}),handleSubmit:function(e){return e&&("function"===typeof e.preventDefault&&e.preventDefault(),"function"===typeof e.stopPropagation&&e.stopPropagation()),_.submit()}};return b(R,U),Object(i.createElement)(d.Provider,{value:_},c(Object(r.a)({},F,{__versions:v}),R,"ReactFinalForm"))}function E(e){var t=Object(i.useContext)(d);if(!t)throw new Error((e||"useForm")+" must be used inside of a <Form> component");return t}var O="undefined"!==typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,y=o.c.reduce((function(e,t){return e[t]=!0,e}),{}),j=function(e,t){return void 0===e?"":e},S=function(e,t){return""===e?void 0:e},w=function(e,t){return e===t};function x(e,t){void 0===t&&(t={});var n=t,a=n.afterSubmit,u=n.allowNull,o=n.component,c=n.data,l=n.defaultValue,s=n.format,f=void 0===s?j:s,d=n.formatOnBlur,b=n.initialValue,v=n.multiple,g=n.parse,h=void 0===g?S:g,x=n.subscription,k=void 0===x?y:x,C=n.type,F=n.validateFields,V=n.value,_=E("useField"),I=m(t),U=function(t,n){return _.registerField(e,t,k,{afterSubmit:a,beforeSubmit:function(){var t=I.current,n=t.beforeSubmit,r=t.formatOnBlur,a=t.format,i=void 0===a?j:a;if(r){var u=_.getFieldState(e).value,o=i(u,e);o!==u&&_.change(e,o)}return n&&n()},data:c,defaultValue:l,getValidator:function(){return I.current.validate},initialValue:b,isEqual:function(e,t){return(I.current.isEqual||w)(e,t)},silent:n,validateFields:F})},L=Object(i.useRef)(!0),N=Object(i.useState)((function(){var e={},t=_.destroyOnUnregister;return _.destroyOnUnregister=!1,U((function(t){e=t}),!0)(),_.destroyOnUnregister=t,e})),R=N[0],A=N[1];Object(i.useEffect)((function(){return U((function(e){L.current?L.current=!1:A(e)}),!1)}),[e,c,l,b]);var q={onBlur:Object(i.useCallback)((function(e){if(R.blur(),d){var t=_.getFieldState(R.name);R.change(f(t.value,R.name))}}),[R.name,f,d]),onChange:Object(i.useCallback)((function(t){var n=t&&t.target?function(e,t,n,r){if(!r&&e.nativeEvent&&void 0!==e.nativeEvent.text)return e.nativeEvent.text;if(r&&e.nativeEvent)return e.nativeEvent.text;var a=e.target,i=a.type,u=a.value,o=a.checked;switch(i){case"checkbox":if(void 0!==n){if(o)return Array.isArray(t)?t.concat(n):[n];if(!Array.isArray(t))return t;var c=t.indexOf(n);return c<0?t:t.slice(0,c).concat(t.slice(c+1))}return!!o;case"select-multiple":return function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t}(e.target.options);default:return u}}(t,R.value,V,O):t;R.change(h(n,e))}),[V,e,h,R.change,R.value,C]),onFocus:Object(i.useCallback)((function(e){R.focus()}),[])},B={};!function(e,t){p(e,t,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])}(B,R);var P=Object(r.a)({name:e,get value(){var t=R.value;return d?"input"===o&&(t=j(t)):t=f(t,e),null!==t||u||(t=""),"checkbox"===C||"radio"===C?V:"select"===o&&v?t||[]:t},get checked(){return"checkbox"===C?void 0===V?!!R.value:!(!Array.isArray(R.value)||!~R.value.indexOf(V)):"radio"===C?R.value===V:void 0}},q);return v&&(P.multiple=v),void 0!==C&&(P.type=C),{input:P,meta:B}}var k=Object(i.forwardRef)((function(e,t){var n=e.afterSubmit,u=e.allowNull,o=e.beforeSubmit,l=e.children,s=e.component,f=e.data,d=e.defaultValue,m=e.format,p=e.formatOnBlur,b=e.initialValue,v=e.isEqual,g=e.multiple,h=e.name,E=e.parse,O=e.subscription,y=e.type,j=e.validate,S=e.validateFields,w=e.value,k=Object(a.a)(e,["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"]),C=x(h,{afterSubmit:n,allowNull:u,beforeSubmit:o,children:l,component:s,data:f,defaultValue:d,format:m,formatOnBlur:p,initialValue:b,isEqual:v,multiple:g,parse:E,subscription:O,type:y,validate:j,validateFields:S,value:w});if("function"===typeof l)return l(Object(r.a)({},C,k));if("string"===typeof s)return Object(i.createElement)(s,Object(r.a)({},C.input,{children:l,ref:t},k));if(!h)throw new Error("prop name cannot be undefined in <Field> component");return c(Object(r.a)({children:l,component:s,ref:t},k),C,"Field("+h+")")}))},85:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(0),i=n.n(a),u=function(e){var t=e.input,n=e.meta,a=r(e,["input","meta"]),u=a.element;return i.a.createElement(i.a.Fragment,null,i.a.createElement(u,Object.assign({},t,{placeholder:a.placeholder,autoFocus:a.autoFocus,maxLength:a.maxLength})),(n.submitError||n.error)&&(t.value.length>5||n.touched)&&i.a.createElement("span",null,n.submitError||n.error))},o=function(e){return i.a.createElement(u,Object.assign({element:"input"},e))},c=function(e){return i.a.createElement(u,Object.assign({element:"textarea"},e))}},87:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return function(t){return t?void 0:e}},a=function(e,t,n){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}(function(e){return function(t){return t&&t.length<e?"Min length is ".concat(e," symbols"):void 0}}(e),function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(t),r(n))}},88:function(e,t,n){e.exports={loginContainer:"Login_loginContainer__3equC",greeting:"Login_greeting__12QKJ",textInputWrap:"Login_textInputWrap__29_sN",captcha:"Login_captcha__e5Agc",captchaImg:"Login_captchaImg__nBeoh",buttons:"Login_buttons__5xyr1",error:"Login_error__PSmDI"}},93:function(e,t,n){e.exports=n.p+"static/media/refresh.8c6e329c.svg"}}]);
//# sourceMappingURL=4.96d2cfb6.chunk.js.map