(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{130:function(e,t,a){"use strict";var o=a(0),n=a(3);t.a=function(){var e=Object(n.g)().pathname;return Object(o.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}},156:function(e,t,a){e.exports={profile:"Profile_profile__24dQj",topImage:"Profile_topImage__3k5gz",contentBlockWrapper:"Profile_contentBlockWrapper__3ipwh",contentBlock:"Profile_contentBlock__3q3HQ",postsBlock:"Profile_postsBlock__2Gd1F",newPostBlock:"Profile_newPostBlock__1uYCA",textField:"Profile_textField__10hK3",buttonWrap:"Profile_buttonWrap__2jvY0",visibleButton:"Profile_visibleButton__2bheb",existingPostsBlock:"Profile_existingPostsBlock__3nIZ5",post:"Profile_post__dM7oM",likes:"Profile_likes__J4shs"}},170:function(e,t,a){"use strict";a.r(t);var o=a(194);a.d(t,"default",(function(){return o.a}))},181:function(e,t,a){e.exports={pageWrap:"PageInfo_pageWrap__1JWAl",page:"PageInfo_page__1xNWf",pageHead:"PageInfo_pageHead__3cuSy",avatar:"PageInfo_avatar__3oNFW",isExist:"PageInfo_isExist__3W9vI",mainInfo:"PageInfo_mainInfo__1TFtc",pageName:"PageInfo_pageName__1C-qF",status:"PageInfo_status__1isHg",myStatus:"PageInfo_myStatus__2io3W",enterStatus:"PageInfo_enterStatus__SIOj_",statusField:"PageInfo_statusField__2LSDX",personalInfoWrap:"PageInfo_personalInfoWrap__2Uo3L",topBorder:"PageInfo_topBorder__2yvHs",infoTitle:"PageInfo_infoTitle__1lQ18",editModeButton:"PageInfo_editModeButton__16xZE",personalInfo:"PageInfo_personalInfo__Xq_xe",aboutMeBlock:"PageInfo_aboutMeBlock__3_SCd",pageInfoRow:"PageInfo_pageInfoRow__1F2Vi",contactsBlock:"PageInfo_contactsBlock__22k27",contactsTitle:"PageInfo_contactsTitle__2soNv",contactsItem:"PageInfo_contactsItem__1IhFT",photoFullWindowWrap:"PageInfo_photoFullWindowWrap__1uZOB",photoFullwindow:"PageInfo_photoFullwindow__-lpwC"}},193:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},209:function(e,t,a){e.exports=a.p+"static/media/les_tuman_derevia.712fe5c8.jpg"},215:function(e,t,a){"use strict";var o=a(193);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(0)),r=(0,o(a(216)).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},216:function(e,t,a){"use strict";var o=a(193);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef((function(t,a){return r.default.createElement(l.default,(0,n.default)({ref:a},t),e)})));0;return a.muiName=l.default.muiName,a};var n=o(a(217)),r=o(a(0)),l=o(a(170))},217:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},a.apply(this,arguments)}e.exports=a},219:function(e,t,a){e.exports={pageInfoFormWrap:"PageInfoForm_pageInfoFormWrap__1uaxI",nameItem:"PageInfoForm_nameItem__3RBTM",checkboxField:"PageInfoForm_checkboxField__2Z1h8",textField:"PageInfoForm_textField__3eeoX",contactsTitle:"PageInfoForm_contactsTitle__3nvBh",buttons:"PageInfoForm_buttons__1aJw8",errorsWrap:"PageInfoForm_errorsWrap__2cczM",errors:"PageInfoForm_errors__3yN6N",blinkError:"PageInfoForm_blinkError__1Vu7B"}},220:function(e,t,a){e.exports={error:"Error_error__u3ZN2"}},260:function(e,t,a){"use strict";a.r(t);var o=a(33),n=a(0),r=a.n(n),l=a(17),c=a(3),s=a(11),i=a(48),u=a.n(i),m=a(209),f=a.n(m),p=a(23),d=a(24),_=a(29),g=a(156),b=a.n(g),v=a(26),E=a(181),P=a.n(E),h=a(148),I=a(35),N=a.n(I),k=a(266),F=a(249),w=a(250),y=function(e){if(e.length>300)return"Must be 300 characters or less"},S=r.a.memo((function(e){var t,a=e.status,l=e.updateUserStatus,c=e.isMyProfile,s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:P.a.status},r.a.createElement(h.b,{initialValues:{status:a},onSubmit:function(e){var t=e.status;m(!1),l(t)}},(function(e){var t=e.handleSubmit,a=e.errors;return r.a.createElement(k.a,{className:P.a.statusField,error:a.status},r.a.createElement(h.a,{onBlur:t,autoFocus:!0,as:F.a,name:"status",placeholder:"Status",validate:y}),r.a.createElement(w.a,null,a.status))}))):a||c?r.a.createElement("div",{className:P.a.status},r.a.createElement("span",{onClick:c?function(){m(!0)}:void 0,title:c?"Click to change your status":"",className:N()((t={},Object(v.a)(t,P.a.myStatus,c),Object(v.a)(t,P.a.enterStatus,!a),t))},a||"Enter your status...")):void 0)})),x=a(215),j=a.n(x),M=function(e){var t=e.photo,a=e.setIsPhotoFullWindow;return Object(n.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="auto"}})),r.a.createElement("div",{className:P.a.photoFullWindowWrap,onClick:function(){return a(!1)}},r.a.createElement("div",{className:P.a.photoFullwindow},r.a.createElement("img",{src:t,alt:""})))},B=function(e){var t,a=e.contacts,o=!1;return a&&(t=Object.entries(a).map((function(e){return e[1]?(o=!0,r.a.createElement("div",{key:e[0],className:P.a.contactsItem},r.a.createElement("span",{className:P.a.contactName},"".concat(e[0],": ")),r.a.createElement("a",{href:e[1],rel:"noopener noreferrer",target:"_blank"},e[1]))):""}))),r.a.createElement("div",{className:P.a.contactsBlock},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.topBorder},"Contacts"),t):"")},O=function(e){var t=e.aboutMe,a=e.lookingForAJob,o=e.lookingForAJobDescription;return r.a.createElement("div",{className:P.a.aboutMeBlock},t?r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"About me:"),t):"",r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"Looking for a job: "),a?"Yes":"No"),o?r.a.createElement("div",{className:P.a.pageInfoRow},o):"")},A=function(e){var t=e.defaultAvatar,a=e.isMyProfile,l=e.status,c=e.updateUserStatus,s=e.changeMyPhoto,i=e.setPageEditMode,u=e.profile,m=u.contacts,f=u.photos,p=u.fullName,d=u.aboutMe,_=u.lookingForAJob,g=u.lookingForAJobDescription,b=Object(n.useState)(!1),E=Object(o.a)(b,2),h=E[0],I=E[1];return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(M,{setIsPhotoFullWindow:I,photo:f.large}),r.a.createElement("div",{className:P.a.pageWrap},r.a.createElement("div",{className:P.a.page},r.a.createElement("div",{className:P.a.pageHead},r.a.createElement("div",{className:P.a.avatar},r.a.createElement("img",{onClick:f.large&&function(){return I(!0)},src:f&&(f.large||t),className:N()(Object(v.a)({},P.a.isExist,f.large)),alt:"avatar"}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"setPhoto",type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"setPhoto"},"Set photo"))),r.a.createElement("div",{className:P.a.mainInfo},r.a.createElement("div",{className:P.a.pageName},p),r.a.createElement(S,{isMyProfile:a,status:l,updateUserStatus:c}))),r.a.createElement("div",{className:P.a.personalInfoWrap},r.a.createElement("div",{className:P.a.infoTitle},"Personal information",a&&r.a.createElement("button",{onClick:function(){return i(!0)},className:P.a.editModeButton,type:"button"},r.a.createElement(j.a,{color:"primary"}))),r.a.createElement("div",{className:P.a.personalInfo},r.a.createElement(O,{aboutMe:d,lookingForAJob:_,lookingForAJobDescription:g}),r.a.createElement(B,{contacts:m}))))))},W=a(174),D=a(251),J=a(1),T=a(6),U=(a(15),a(42)),C=a(129),z=a(131),R=n.forwardRef((function(e,t){var a=e.classes,o=e.className,r=e.color,l=void 0===r?"inherit":r,c=e.component,s=void 0===c?"span":c,i=e.fontSize,u=void 0===i?"default":i,m=Object(T.a)(e,["classes","className","color","component","fontSize"]);return n.createElement(s,Object(J.a)({className:Object(U.a)("material-icons",a.root,o,"inherit"!==l&&a["color".concat(Object(z.a)(l))],"default"!==u&&a["fontSize".concat(Object(z.a)(u))]),"aria-hidden":!0,ref:t},m))}));R.muiName="Icon";var L=Object(C.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(R),H=a(259),V=W.a().shape({newPostInput:W.b().required().max(100)}),Y=r.a.memo((function(e){return r.a.createElement(h.b,{initialValues:{newPostInput:""},validationSchema:V,onSubmit:function(t,a){e.addPost(t.newPostInput),a.resetForm()}},(function(e){var t=e.handleSubmit,a=e.errors,o=e.touched,n=e.values;return r.a.createElement("form",{className:b.a.newPostBlock,onSubmit:t},r.a.createElement(h.a,{as:H.a,name:"newPostInput",touched:o.newPostInput,error:a.newPostInput,placeholder:"What's up?",multiline:!0,label:"New post",rowsMax:4,className:b.a.textField}),r.a.createElement("div",{className:N()(b.a.buttonWrap,Object(v.a)({},b.a.visibleButton,n.newPostInput))},r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",endIcon:r.a.createElement(L,null,"send")},"Add post")))}))})),Z=r.a.memo((function(e){return r.a.createElement("div",{className:b.a.existingPostsBlock},e.posts.map((function(e){return r.a.createElement("div",{key:e.id,className:b.a.post},r.a.createElement("div",null,e.textPost),r.a.createElement("div",{className:b.a.likes},e.amountLikes," likes"))})).reverse())})),q=a(2),Q=a.n(q),X=a(4),G=a(219),K=a.n(G),$=a(130),ee=a(252),te=a(263),ae=a(127),oe=function(e){var t=e.setPageEditMode,a=e.profile,o=a.contacts,n=a.fullName,l=a.aboutMe,c=a.lookingForAJob,s=a.lookingForAJobDescription,i=e.changeUserData;return Object($.a)(),r.a.createElement(h.b,{initialValues:{contacts:o,fullName:n,aboutMe:l,lookingForAJob:c,lookingForAJobDescription:s},onSubmit:function(){var e=Object(X.a)(Q.a.mark((function e(t,a){var o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:(o=e.sent)&&a.setErrors(o);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,n=e.errors,l=e.touched,c=e.values;return r.a.createElement("div",{className:K.a.pageInfoFormWrap},r.a.createElement("form",{onSubmit:a},r.a.createElement(h.a,{className:K.a.textField,as:H.a,name:"fullName",error:Boolean(l.fullName&&n.fullName),label:"Your name",variant:"outlined",helperText:n.fullName}),r.a.createElement("div",{className:K.a.aboutMeBlock},r.a.createElement(h.a,{className:K.a.textField,as:H.a,name:"aboutMe",error:Boolean(l.aboutMe&&n.aboutMe),multiline:!0,label:"About me",variant:"outlined",helperText:n.aboutMe}),r.a.createElement("div",null,r.a.createElement(ee.a,{className:K.a.checkboxField,label:"Looking for a job",control:r.a.createElement(h.a,{name:"lookingForAJob",color:"primary",as:te.a,checked:!!c.lookingForAJob})})),r.a.createElement(h.a,{className:K.a.textField,as:H.a,name:"lookingForAJobDescription",error:Boolean(l.lookingForAJobDescription&&n.lookingForAJobDescription),multiline:!0,label:"Your skills",variant:"outlined",helperText:n.lookingForAJobDescription})),r.a.createElement("div",{className:K.a.contactsBlock},r.a.createElement(ae.a,{className:K.a.contactsTitle},"Contacts:"),Object.entries(o).map((function(e){var t=e[0],a=t[0].toUpperCase()+t.slice(1);return r.a.createElement(h.a,{className:K.a.textField,key:t,as:H.a,name:"contacts.".concat(t),value:c.contacts[t]||"",error:Boolean(n.contacts&&n.contacts[t]&&l.contacts&&l.contacts[t]),label:a,variant:"outlined",helperText:n.contacts&&n.contacts[t]})}))),r.a.createElement("div",{className:K.a.buttons},r.a.createElement(D.a,{color:"primary",type:"submit",variant:"contained"},"Save"),r.a.createElement(D.a,{onClick:function(){return t(!1)},type:"button",variant:"outlined",color:"primary"},"Cancel"))))}))},ne=r.a.memo((function(e){var t=e.topImage,a=e.isMyProfile,l=e.profile,c=e.defaultAvatar,s=e.status,i=e.updateUserStatus,u=e.addPost,m=e.existingPosts,f=e.isAuth,p=e.changeMyPhoto,d=e.userId,_=e.changeUserData,g=Object(n.useState)(!1),v=Object(o.a)(g,2),E=v[0],P=v[1];return Object($.a)(),E?r.a.createElement(oe,{setPageEditMode:P,profile:l,changeUserData:_}):r.a.createElement("div",{className:b.a.profile},r.a.createElement("div",{className:b.a.topImage},r.a.createElement("img",{src:t,alt:"cover"})),r.a.createElement("div",{className:b.a.contentBlockWrapper},r.a.createElement("div",{className:b.a.contentBlock},r.a.createElement(A,{isMyProfile:a,profile:l,defaultAvatar:c,status:s,updateUserStatus:i,changeMyPhoto:p,userId:d,setPageEditMode:P}),r.a.createElement("div",{className:b.a.postsBlock},f?r.a.createElement(Y,{addPost:u}):"",r.a.createElement(Z,{posts:m})))))})),re=a(220),le=a.n(re),ce=function(){return r.a.createElement("div",{className:le.a.error},"Oops! Something went wrong...")},se={updateUserStatus:d.j,getAuthUserData:p.b,addPost:d.a,getProfile:d.f,changeMyPhoto:d.b,changeUserData:d.c,setUserProfile:d.i,setErrorDownloadProfile:d.g};t.default=Object(s.d)(Object(l.b)((function(e){return{topImage:f.a,defaultAvatar:u.a,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId,existingPosts:e.profilePage.existingPosts,errorDownloadProfile:e.profilePage.errorDownloadProfile,isFetchingProfile:e.profilePage.isFetchingProfile}}),se),c.h,r.a.memo)((function(e){var t=e.match.params.userId,a=e.authUserId,l=e.getProfile,s=e.isAuth,i=e.profile,u=e.errorDownloadProfile,m=e.setErrorDownloadProfile,f=e.setUserProfile,p=+t,d=Object(n.useState)(!1),g=Object(o.a)(d,2),b=g[0],v=g[1];return Object(n.useEffect)((function(){if(p)return a===p&&v(!0),l(p),function(){m(!1),f(null)}}),[p,a,l,f,m]),Object(n.useEffect)((function(){s||v(!1)}),[s]),p?r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(ce,null),i?r.a.createElement(ne,Object.assign({},e,{isMyProfile:b})):r.a.createElement(_.a,null)):s?r.a.createElement(c.a,{to:"/profile/".concat(a)}):r.a.createElement(c.a,{to:"/login"})}))}}]);
//# sourceMappingURL=5.9b697f17.chunk.js.map