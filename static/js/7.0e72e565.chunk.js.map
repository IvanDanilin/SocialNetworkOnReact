{"version":3,"sources":["components/common/Pagination/Pagination.js","components/Main/Users/Users.js","components/Main/Users/UsersContainer.js","components/Main/Users/Users.module.scss","components/common/Pagination/Pagination.module.scss"],"names":["Pagination","pageSize","currentPage","onPageChanged","portionSize","totalItemsCount","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumberCurrentPage","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","length","className","styles","pagination","onClick","filter","page","map","selectedPage","key","Users","props","usersPage","totalUsersCount","users","u","id","userBlock","photoBlock","photo","to","src","photos","small","defaultAvatar","alt","followed","disabled","followingInProgress","some","unfollow","button","follow","infoBlock","name","status","connect","state","isFetching","getUsers","useEffect","Preloader","pageNumber","module","exports"],"mappings":"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","file":"static/js/7.0e72e565.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport styles from './Pagination.module.scss';\r\n\r\nconst Pagination = ({\r\n\tpageSize,\r\n\tcurrentPage = 1,\r\n\tonPageChanged,\r\n\tportionSize = 10,\r\n\ttotalItemsCount,\r\n}) => {\r\n\t// Количество страниц\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n\t// Массив длина которого равна количеству страниц,\r\n\t// заполненый пустыми значениями\r\n\tconst pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\r\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\r\n\tconst portionNumberCurrentPage = Math.ceil(currentPage / portionSize);\r\n\tconst [portionNumber, setPortionNumber] = useState(portionNumberCurrentPage);\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tconst rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\treturn pages.length > 1 ? (\r\n\t\t<div className={styles.pagination}>\r\n\t\t\t{portionNumber > 1 && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetPortionNumber(portionNumber - 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPrev\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{pages\r\n\t\t\t\t.filter(\r\n\t\t\t\t\t(page) =>\r\n\t\t\t\t\t\tpage >= leftPortionPageNumber && page <= rightPortionPageNumber\r\n\t\t\t\t)\r\n\t\t\t\t.map((page) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName={currentPage === page ? styles.selectedPage : ''}\r\n\t\t\t\t\t\t\tonClick={() => onPageChanged(page)}\r\n\t\t\t\t\t\t\tkey={page}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t{portionCount > portionNumber && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetPortionNumber(portionNumber + 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tNext\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t) : (\r\n\t\t''\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport styles from './Users.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Pagination from '../../common/Pagination/Pagination';\r\n\r\nconst Users = (props) => {\r\n\treturn (\r\n\t\t<div className={styles.usersPage}>\r\n\t\t\t<Pagination\r\n\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\tcurrentPage={props.currentPage}\r\n\t\t\t\tonPageChanged={props.onPageChanged}\r\n\t\t\t\ttotalItemsCount={props.totalUsersCount}\r\n\t\t\t/>\r\n\t\t\t<div>\r\n\t\t\t\t{props.users.map((u) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={u.id} className={styles.userBlock}>\r\n\t\t\t\t\t\t\t<div className={styles.photoBlock}>\r\n\t\t\t\t\t\t\t\t<div className={styles.photo}>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={'/profile/' + u.id}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={u.photos.small || props.defaultAvatar} alt='' />\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{u.followed ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={props.followingInProgress.some(\r\n\t\t\t\t\t\t\t\t\t\t\t(id) => id === u.id\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tprops.unfollow(u.id);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${styles.button} ${styles.unfollow}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tUnfollow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={props.followingInProgress.some(\r\n\t\t\t\t\t\t\t\t\t\t\t(id) => id === u.id\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tprops.follow(u.id);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={`${styles.button} ${styles.follow}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tFollow\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles.infoBlock}>\r\n\t\t\t\t\t\t\t\t<div className={styles.name}>{u.name}</div>\r\n\t\t\t\t\t\t\t\t<div>{u.status}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport {\r\n\tfollow,\r\n\tunfollow,\r\n\tgetUsers,\r\n} from '../../../redux/reducers/usersReducer';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport defaultAvatar from '../../../assets/image/defaultAvatar.jpg';\r\n\r\nconst UsersContainer = ({\r\n\tgetUsers,\r\n\tcurrentPage,\r\n\tpageSize,\r\n\ttotalUsersCount,\r\n\tisFetching,\r\n\tusers,\r\n\tfollowingInProgress,\r\n\tfollow,\r\n\tunfollow,\r\n}) => {\r\n\t// Получение списка пользователей при рендере\r\n\tuseEffect(() => {\r\n\t\tgetUsers(currentPage, pageSize);\r\n\t}, [getUsers, currentPage, pageSize]);\r\n\r\n\t// Получение списка пользователей при выборе страницы\r\n\tconst onPageChanged = (pageNumber) => {\r\n\t\tgetUsers(pageNumber, pageSize);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isFetching ? (\r\n\t\t\t\t<Preloader />\r\n\t\t\t) : (\r\n\t\t\t\t<Users\r\n\t\t\t\t\ttotalUsersCount={totalUsersCount}\r\n\t\t\t\t\tpageSize={pageSize}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tonPageChanged={onPageChanged}\r\n\t\t\t\t\tusers={users}\r\n\t\t\t\t\tdefaultAvatar={defaultAvatar}\r\n\t\t\t\t\tfollowingInProgress={followingInProgress}\r\n\t\t\t\t\tfollow={follow}\r\n\t\t\t\t\tunfollow={unfollow}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\tusers: state.usersPage.users,\r\n\t\tfollowingInProgress: state.usersPage.followingInProgress,\r\n\t\tpageSize: state.usersPage.pageSize,\r\n\t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfollow,\r\n\tunfollow,\r\n\tgetUsers,\r\n})(UsersContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__1In5k\",\"userBlock\":\"Users_userBlock__zXm2W\",\"photoBlock\":\"Users_photoBlock__1r1DK\",\"photo\":\"Users_photo__3-jKD\",\"button\":\"Users_button__3M6we\",\"follow\":\"Users_follow__Ymj3E\",\"unfollow\":\"Users_unfollow__1zgEc\",\"infoBlock\":\"Users_infoBlock__16YXs\",\"name\":\"Users_name__1cTdV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1kLD1\",\"selectedPage\":\"Pagination_selectedPage__2prr6\"};"],"sourceRoot":""}