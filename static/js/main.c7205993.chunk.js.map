{"version":3,"sources":["utilities/useOutsideClick.js","components/common/LinkItem.js","components/Header/DropDownMenu.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Main/Main.js","components/Sidebar/Sidebar.js","redux/reducers/appReducer.js","redux/store.js","components/common/theme.js","App.js","serviceWorker.js","index.js","redux/reducers/authReducer.js","redux/reducers/profileReducer.js","components/Sidebar/Sidebar.module.scss","components/common/Preloader/Preloader.js","assets/image/defaultAvatar.jpg","redux/reducers/dialogsReducer.js","redux/reducers/usersReducer.js","components/common/Preloader/preloader.svg","components/common/Preloader/Preloader.module.scss","assets/image/logo.svg","assets/image/menu-button.svg","components/Main/Main.module.scss","api/api.js","components/Header/Header.module.scss"],"names":["useOutsideClick","ref","callback","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","LinkItem","path","linkName","onClickFunction","activeClassName","onClick","to","DropDownMenu","props","dropDownMenuMenuRef","useRef","hideDropDownMenu","toggleDropDownMenu","onClickSignOut","a","toggleSignOutInProcess","signOut","CustomLink","styles","active","Box","color","className","dropDownMenu","userId","AuthUserInfo","login","fullName","avatar","src","defaultAvatar","alt","Header","logo","isAuth","menuButtonImg","setMainMenuIsActive","component","header","bgcolor","headerContent","logoBlock","menuButton","logoImage","logoName","cn","loginBlock","isExist","connect","state","profilePage","myProfile","photos","small","auth","getMyUserProfile","useState","setDropDownMenu","value","ProfileContainer","React","lazy","Dialogs","Messages","Login","Music","News","Settings","UsersContainer","signOutInProcess","main","Preloader","Suspense","fallback","from","render","mainMenuRef","hideSidebar","mainMenuIsActive","sidebar","menuIsActive","nav","list","createSlice","name","initialState","initialized","reducers","initializedSuccessfully","action","payload","reducer","actions","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","thunk","store","configureStore","dialogs","usersPage","app","devTools","process","theme","createMuiTheme","palette","primary","deepPurple","secondary","teal","AppWithComose","compose","initializeApp","dispatch","getAuthUserData","App","ThemeProvider","Boolean","window","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","email","captchaUrl","setAuthUserData","prepare","setCaptcha","authAPI","data","resultCode","id","getCaptcha","securityAPI","signIn","authData","messages","setMyUserProfile","log","errorDownloadProfile","profile","status","isMyProfile","existingPosts","textPost","amountLikes","addPost","push","length","setUserProfile","setStatus","updatePhoto","setErrorDownloadProfile","getProfile","Promise","all","getUserProfile","getUserStatus","profileAPI","getProfileData","getStatus","updateUserStatus","updateStatus","changeMyPhoto","file","response","changeUserData","getState","sendUserData","errors","any","forEach","includes","contacts","contactName","split","toLowerCase","substring","errorText","fildName","module","exports","preloader","loadingImage","messagesAll","sendMessage","newMessageId","textMessage","users","pageSize","totalUsersCount","currentPage","followingInProgress","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFollowingProgress","filter","followSuccess","map","user","followed","unfollowSuccess","getUsers","usersAPI","items","totalCount","follow","unfollow","instance","require","default","create","withCredentials","baseURL","headers","get","post","delete","url","textStatus","put","formData","FormData","append"],"mappings":"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","file":"static/js/main.c7205993.chunk.js","sourcesContent":["import { useEffect } from 'react';\r\n\r\nconst useOutsideClick = (ref, callback) => {\r\n\tconst handleClick = (e) => {\r\n\t\tif (ref.current && !ref.current.contains(e.target)) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClick);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClick);\r\n\t\t};\r\n\t});\r\n};\r\n\r\nexport default useOutsideClick;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst LinkItem = ({ path, linkName, onClickFunction, activeClassName }) => (\r\n\t<li>\r\n\t\t<NavLink\r\n\t\t\tonClick={onClickFunction}\r\n\t\t\tto={path}\r\n\t\t\tactiveClassName={activeClassName}\r\n\t\t>\r\n\t\t\t{linkName}\r\n\t\t</NavLink>\r\n\t</li>\r\n);\r\n\r\nexport default LinkItem;\r\n","import React, { useRef } from 'react';\r\nimport styles from './Header.module.scss';\r\nimport useOutsideClick from '../../utilities/useOutsideClick';\r\nimport { Box } from '@material-ui/core';\r\nimport LinkItem from '../common/LinkItem';\r\n\r\nconst DropDownMenu = (props) => {\r\n\t// Ссылка на выпадающее меню\r\n\tconst dropDownMenuMenuRef = useRef();\r\n\r\n\t// Функция скрытия выпадающего меню\r\n\tconst hideDropDownMenu = () => {\r\n\t\tprops.toggleDropDownMenu(false);\r\n\t};\r\n\r\n\t// Хук, добавляющий слушателя событий на клик вне элемента\r\n\t// Принимает ref элемента и callback-функцию\r\n\t// Функция будет вызвана при клике на любую область\r\n\t// документа, кроме элемента переданного через ref\r\n\tuseOutsideClick(dropDownMenuMenuRef, hideDropDownMenu);\r\n\r\n\t// Клик на Sign out\r\n\tconst onClickSignOut = async () => {\r\n\t\thideDropDownMenu();\r\n\t\tprops.toggleSignOutInProcess(true);\r\n\t\ttry {\r\n\t\t\tawait props.signOut();\r\n\t\t} catch (error) {\r\n\t\t\tprops.toggleSignOutInProcess(false);\r\n\t\t}\r\n\t\tprops.toggleSignOutInProcess(false);\r\n\t};\r\n\r\n\tconst CustomLink = (props) => (\r\n\t\t<LinkItem\r\n\t\t\t{...props}\r\n\t\t\tactiveClassName={styles.active}\r\n\t\t\tonClickFunction={hideDropDownMenu}\r\n\t\t/>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcolor=\"primary.dark\"\r\n\t\t\tref={dropDownMenuMenuRef}\r\n\t\t\tclassName={styles.dropDownMenu}\r\n\t\t>\r\n\t\t\t<ul>\r\n\t\t\t\t<CustomLink path={`/profile/${props.userId}`} linkName=\"Profile\" />\r\n\t\t\t\t<CustomLink path={'/settings'} linkName=\"Settings\" />\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div onClick={onClickSignOut}>Sign out</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default DropDownMenu;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n\tlogin,\r\n\tavatar,\r\n\theader,\r\n\theaderContent,\r\n\tlogoBlock,\r\n\tlogoImage,\r\n\tlogoName,\r\n\tloginBlock,\r\n\tmenuButton,\r\n\tisExist\r\n} from './Header.module.scss';\r\nimport DropDownMenu from './DropDownMenu';\r\nimport cn from 'classnames';\r\nimport { Box } from '@material-ui/core';\r\n\r\nconst AuthUserInfo = (props) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={login}>{props.fullName}</div>\r\n\t\t\t<div className={avatar}>\r\n\t\t\t\t<img src={props.avatar || props.defaultAvatar} alt='' />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst Header = ({\r\n\ttoggleDropDownMenu,\r\n\tlogo,\r\n\tfullName,\r\n\tavatar,\r\n\tdefaultAvatar,\r\n\tdropDownMenu,\r\n\tisAuth,\r\n\tsignOut,\r\n\tuserId,\r\n\ttoggleSignOutInProcess,\r\n\tmenuButtonImg,\r\n\tsetMainMenuIsActive,\r\n}) => {\r\n\tconst onClickProfileMenuButton = () => {\r\n\t\ttoggleDropDownMenu(true);\r\n\t};\r\n\tconst onClickMainMenuButton = () => {\r\n\t\tsetMainMenuIsActive(true);\r\n\t};\r\n\treturn (\r\n\t\t<Box component='header' className={header} bgcolor='primary.dark'>\r\n\t\t\t<div className={headerContent}>\r\n\t\t\t\t<div className={logoBlock}>\r\n\t\t\t\t\t<div className={menuButton} onClick={onClickMainMenuButton}>\r\n\t\t\t\t\t\t<img src={menuButtonImg} alt='button' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={logoImage}>\r\n\t\t\t\t\t\t<img src={logo} alt='logo' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NavLink to={`/profile/${userId}`} className={logoName}>\r\n\t\t\t\t\t\tWhoIAm\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isAuth ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={cn(loginBlock, { [isExist]: isAuth })}\r\n\t\t\t\t\t\tonClick={onClickProfileMenuButton}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AuthUserInfo\r\n\t\t\t\t\t\t\tfullName={fullName}\r\n\t\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\t\tdefaultAvatar={defaultAvatar}\r\n\t\t\t\t\t\t\tdropDownMenu={dropDownMenu}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={loginBlock}>\r\n\t\t\t\t\t\t<NavLink to={'/login'}>Login</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{isAuth && dropDownMenu && (\r\n\t\t\t\t\t<DropDownMenu\r\n\t\t\t\t\t\tsignOut={signOut}\r\n\t\t\t\t\t\ttoggleDropDownMenu={toggleDropDownMenu}\r\n\t\t\t\t\t\tuserId={userId}\r\n\t\t\t\t\t\ttoggleSignOutInProcess={toggleSignOutInProcess}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport defaultAvatar from '../../assets/image/defaultAvatar.jpg';\r\nimport logo from '../../assets/image/logo.svg';\r\nimport {\r\n\tsignOut,\r\n\ttoggleSignOutInProcess,\r\n} from '../../redux/reducers/authReducer';\r\nimport { getMyUserProfile } from '../../redux/reducers/profileReducer';\r\nimport Header from './Header';\r\nimport menuButtonImg from '../../assets/image/menu-button.svg' \r\n\r\nconst HeaderContainer = (props) => {\r\n\t// Выпадающее меню справа. false - скрыто\r\n\tconst [dropDownMenu, setDropDownMenu] = useState(false);\r\n\t// Переключатель выпадающего меню. Принимает значения True, False\r\n\t// Если значение не передано, переключает на противополжное\r\n\tconst toggleDropDownMenu = (value) => {\r\n\t\tvalue\r\n\t\t\t? setDropDownMenu(value)\r\n\t\t\t: dropDownMenu\r\n\t\t\t? setDropDownMenu(false)\r\n\t\t\t: setDropDownMenu(true);\r\n\t};\r\n\treturn (\r\n\t\t<Header\r\n\t\t\t{...props}\r\n\t\t\ttoggleDropDownMenu={toggleDropDownMenu}\r\n\t\t\tdropDownMenu={dropDownMenu}\r\n\t\t\ttoggleSignOutInProcess={props.toggleSignOutInProcess}\r\n\t\t\tmenuButtonImg={menuButtonImg}\r\n\t\t\tsetMainMenuIsActive={props.setMainMenuIsActive}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tdefaultAvatar,\r\n\tavatar: state.profilePage.myProfile.photos.small,\r\n\tisAuth: state.auth.isAuth,\r\n\tuserId: state.auth.userId,\r\n\tfullName: state.profilePage.myProfile.fullName,\r\n\tlogo,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tsignOut,\r\n\tgetMyUserProfile,\r\n\ttoggleSignOutInProcess,\r\n})(HeaderContainer);\r\n","import React from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport styles from './Main.module.scss';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./Profile/ProfileContainer'));\r\nconst Dialogs = React.lazy(() => import('./Dialogs/Dialogs'));\r\nconst Messages = React.lazy(() => import('./Messages/Messages'));\r\nconst Login = React.lazy(() => import('./Login/Login'));\r\nconst Music = React.lazy(() => import('./Music/Music'));\r\nconst News = React.lazy(() => import('./News/News'));\r\nconst Settings = React.lazy(() => import('./Settings/Settings'));\r\nconst UsersContainer = React.lazy(() => import('./Users/UsersContainer'));\r\n\r\nconst Main = ({ signOutInProcess }) => {\r\n\treturn (\r\n\t\t<main className={styles.main}>\r\n\t\t\t{signOutInProcess ? (\r\n\t\t\t\t<Preloader />\r\n\t\t\t) : (\r\n\t\t\t\t<React.Suspense fallback={<Preloader />}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path='/profile/:userId?' component={ProfileContainer} />\r\n\t\t\t\t\t\t<Route path='/dialogs' component={Dialogs} />\r\n\t\t\t\t\t\t<Route path='/dialog/:userId?' component={Messages} />\r\n\t\t\t\t\t\t<Route path='/news' component={News} />\r\n\t\t\t\t\t\t<Route path='/music' component={Music} />\r\n\t\t\t\t\t\t<Route path='/settings' component={Settings} />\r\n\t\t\t\t\t\t<Route path='/users' component={UsersContainer} />\r\n\t\t\t\t\t\t<Route path='/login' component={Login} />\r\n\t\t\t\t\t\t<Redirect from='/' to='/profile' />\r\n\t\t\t\t\t\t<Route path='*' render={() => <h2>404 NOT FOUND</h2>} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</React.Suspense>\r\n\t\t\t)}\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (state) => ({\r\n\tsignOutInProcess: state.auth.signOutInProcess,\r\n});\r\nexport default connect(mapDispatchToProps)(Main);\r\n","import React, { useRef } from 'react';\r\nimport styles from './Sidebar.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport cn from 'classnames';\r\nimport useOutsideClick from '../../utilities/useOutsideClick';\r\nimport { Box } from '@material-ui/core';\r\nimport LinkItem from '../common/LinkItem';\r\n\r\nconst Sidebar = (props) => {\r\n\t// Ссылка на сайдбар\r\n\tconst mainMenuRef = useRef();\r\n\r\n\t// Скрыть сайдбар если он активен\r\n\tconst hideSidebar = () => {\r\n\t\tif (props.mainMenuIsActive) {\r\n\t\t\tprops.setMainMenuIsActive(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// Выполнить переданную функцию при клике вокруг элемента переданного через реф\r\n\tuseOutsideClick(mainMenuRef, () => {\r\n\t\thideSidebar();\r\n\t});\r\n\r\n\tconst CustomLink = (props) => (\r\n\t\t<LinkItem\r\n\t\t\t{...props}\r\n\t\t\tonClickFunction={hideSidebar}\r\n\t\t\tactiveClassName={styles.active}\r\n\t\t/>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<aside\r\n\t\t\tref={mainMenuRef}\r\n\t\t\tclassName={cn(styles.sidebar, {\r\n\t\t\t\t[styles.menuIsActive]: props.mainMenuIsActive,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t<nav className={styles.nav}>\r\n\t\t\t\t<Box component=\"ul\" color=\"primary.dark\" className={styles.list}>\r\n\t\t\t\t\t{props.isAuth && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<CustomLink\r\n\t\t\t\t\t\t\t\tpath={`/profile/${props.userId}`}\r\n\t\t\t\t\t\t\t\tlinkName={'Profile'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<CustomLink path={'/dialogs'} linkName={'Dialogs'} />\r\n\t\t\t\t\t\t\t<CustomLink path={'/news'} linkName={'News'} />\r\n\t\t\t\t\t\t\t<CustomLink path={'/music'} linkName={'Music'} />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<CustomLink path={'/users'} linkName={'Users'} />\r\n\t\t\t\t</Box>\r\n\t\t\t</nav>\r\n\t\t</aside>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tuserId: state.auth.userId,\r\n});\r\n\r\nexport default connect(mapDispatchToProps)(Sidebar);\r\n","import { getAuthUserData } from './authReducer';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\nconst { reducer, actions } = createSlice({\r\n\tname: 'app',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitializedSuccessfully(state, action) {\r\n\t\t\tstate.initialized = action.payload;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nconst { initializedSuccessfully } = actions;\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n\tawait dispatch(getAuthUserData());\r\n\tdispatch(initializedSuccessfully(true));\r\n};\r\n\r\nexport default reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport app from './reducers/appReducer';\r\nimport auth from './reducers/authReducer';\r\nimport dialogs from './reducers/dialogsReducer';\r\nimport profilePage from './reducers/profileReducer';\r\nimport usersPage from './reducers/usersReducer';\r\n\r\nconst middleware = getDefaultMiddleware({\r\n\timmutableCheck: false,\r\n\tserializableCheck: false,\r\n\tthunk: true,\r\n});\r\n\r\nexport const store = configureStore({\r\n\treducer: {\r\n\t\tdialogs,\r\n\t\tprofilePage,\r\n\t\tusersPage,\r\n\t\tauth,\r\n\t\tapp,\r\n\t},\r\n\tmiddleware,\r\n\tdevTools: process.env.NODE_ENV !== 'production',\r\n});\r\n\r\nexport default store;\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { deepPurple, teal } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: deepPurple,\r\n\t\tsecondary: teal,\r\n\t},\r\n});\r\n\r\nexport default theme;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport './App.scss';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Main from './components/Main/Main';\r\nimport Sidebar from './components/Sidebar/Sidebar';\r\nimport './null.scss';\r\nimport { initializeApp } from './redux/reducers/appReducer';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport store from './redux/store';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport theme from './components/common/theme';\r\n\r\nexport const AppPure = ({ initializeApp, initialized }) => {\r\n\tconst [mainMenuIsActive, setMainMenuIsActive] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tinitializeApp();\r\n\t}, [initializeApp]);\r\n\r\n\treturn initialized ? (\r\n\t\t<div className=\"app-wrapper\">\r\n\t\t\t<HeaderContainer setMainMenuIsActive={setMainMenuIsActive} />\r\n\t\t\t<Sidebar\r\n\t\t\t\tmainMenuIsActive={mainMenuIsActive}\r\n\t\t\t\tsetMainMenuIsActive={setMainMenuIsActive}\r\n\t\t\t/>\r\n\t\t\t<Main />\r\n\t\t</div>\r\n\t) : (\r\n\t\t<Preloader />\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinitialized: state.app.initialized,\r\n});\r\n\r\nexport const AppWithComose = compose(\r\n\tconnect(mapStateToProps, { initializeApp })\r\n)(AppPure);\r\n\r\nconst App = () => (\r\n\t<HashRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<AppWithComose />\r\n\t\t\t</ThemeProvider>\r\n\t\t</Provider>\r\n\t</HashRouter>\r\n);\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './index.scss';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { authAPI, securityAPI } from '../../api/api';\r\nimport { getMyUserProfile, setMyUserProfile } from './profileReducer';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null,\r\n\tsignOutInProcess: false,\r\n};\r\n\r\nconst { actions, reducer } = createSlice({\r\n\tname: 'auth',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tsetAuthUserData: {\r\n\t\t\treducer: (state, action) => ({ ...state, ...action.payload }),\r\n\t\t\tprepare: (userId, email, login, isAuth) => ({\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuserId,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tlogin,\r\n\t\t\t\t\tisAuth,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t},\r\n\t\tsetCaptcha(state, action) {\r\n\t\t\tstate.captchaUrl = action.payload;\r\n\t\t},\r\n\t\ttoggleSignOutInProcess(state, { payload }) {\r\n\t\t\tstate.signOutInProcess = payload;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { setAuthUserData, setCaptcha, toggleSignOutInProcess } = actions;\r\n\r\nexport default reducer;\r\n\r\n// Thunks\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tconst data = await authAPI.getAuthUserData();\r\n\tif (data.resultCode === 0) {\r\n\t\tlet { id, login, email } = data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t\tdispatch(getMyUserProfile(id));\r\n\t\treturn { id, login, email };\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n};\r\nexport const getCaptcha = () => async (dispatch) => {\r\n\tconst captchaUrl = await securityAPI.getCaptcha();\r\n\tdispatch(setCaptcha(captchaUrl));\r\n};\r\n\r\nexport const signIn = (authData) => async (dispatch) => {\r\n\tconst data = await authAPI.signIn(authData);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t\tdispatch(setCaptcha(null));\r\n\t} else if (data.resultCode === 10) {\r\n\t\tdispatch(getCaptcha());\r\n\t\treturn data.messages[0];\r\n\t} else {\r\n\t\treturn data.messages[0];\r\n\t}\r\n};\r\n\r\nexport const signOut = () => async (dispatch) => {\r\n\tconst data = await authAPI.signOut();\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t\tsetMyUserProfile(null);\r\n\t} else {\r\n\t\tconsole.log('logout error');\r\n\t}\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { profileAPI } from '../../api/api';\r\n\r\nconst initialState = {\r\n\terrorDownloadProfile: false,\r\n\tmyProfile: { photos: {} },\r\n\tprofile: null,\r\n\tstatus: '',\r\n\tisMyProfile: false,\r\n\texistingPosts: [\r\n\t\t{ id: 0, textPost: 'Lorem ipsum dolor', amountLikes: 54 },\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttextPost: 'Lorem ipsum dolor, sit amet consectetur',\r\n\t\t\tamountLikes: 64,\r\n\t\t},\r\n\t\t{ id: 2, textPost: 'I like JS and React', amountLikes: 516 },\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\ttextPost: 'Lorem ipsum dolor, sit amet consectetur adipisicing elit.',\r\n\t\t\tamountLikes: 5,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4,\r\n\t\t\ttextPost:\r\n\t\t\t\t'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.',\r\n\t\t\tamountLikes: 32,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 5,\r\n\t\t\ttextPost:\r\n\t\t\t\t'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.',\r\n\t\t\tamountLikes: 32,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 6,\r\n\t\t\ttextPost:\r\n\t\t\t\t'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.',\r\n\t\t\tamountLikes: 32,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst { actions, reducer } = createSlice({\r\n\tname: 'profile',\r\n\tinitialState,\r\n\treducers: {\r\n\t\taddPost(state, action) {\r\n\t\t\tstate.existingPosts.push({\r\n\t\t\t\tid: state.existingPosts.length,\r\n\t\t\t\ttextPost: action.payload,\r\n\t\t\t\tamountLikes: 0,\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetUserProfile(state, action) {\r\n\t\t\tstate.profile = action.payload;\r\n\t\t},\r\n\t\tsetMyUserProfile(state, action) {\r\n\t\t\tstate.myProfile = action.payload;\r\n\t\t},\r\n\t\tsetStatus(state, action) {\r\n\t\t\tstate.status = action.payload;\r\n\t\t},\r\n\t\tupdatePhoto(state, action) {\r\n\t\t\tstate.profile.photos = action.payload.data.photos;\r\n\t\t\tstate.myProfile.photos = action.payload.data.photos;\r\n\t\t},\r\n\t\tsetErrorDownloadProfile(state, action) {\r\n\t\t\tstate.errorDownloadProfile = action.payload;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n\taddPost,\r\n\tsetUserProfile,\r\n\tsetMyUserProfile,\r\n\tsetStatus,\r\n\tupdatePhoto,\r\n\tsetErrorDownloadProfile,\r\n} = actions;\r\n\r\n// Thunks\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n\ttry {\r\n\t\tawait Promise.all([\r\n\t\t\tdispatch(getUserProfile(userId)),\r\n\t\t\tdispatch(getUserStatus(userId)),\r\n\t\t]);\r\n\t} catch (error) {\r\n\t\tdispatch(setErrorDownloadProfile(true));\r\n\t}\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tdispatch(setUserProfile(null));\r\n\tconst data = await profileAPI.getProfileData(userId);\r\n\tif (data) {\r\n\t\tdispatch(setUserProfile(data));\r\n\t}\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tdispatch(setStatus(null));\r\n\tconst data = await profileAPI.getStatus(userId);\r\n\tif (data) {\r\n\t\tdispatch(setStatus(data));\r\n\t}\r\n};\r\n\r\nexport const getMyUserProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfileData(userId);\r\n\tdispatch(setMyUserProfile(data));\r\n};\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(setStatus(status));\r\n\t}\r\n};\r\n\r\nexport const changeMyPhoto = (file) => async (dispatch) => {\r\n\tconst response = await profileAPI.changeMyPhoto(file);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(updatePhoto(response.data));\r\n\t}\r\n};\r\n\r\nexport const changeUserData = (payload) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId;\r\n\tconst response = await profileAPI.sendUserData(payload);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userId));\r\n\t\tdispatch(getMyUserProfile(userId));\r\n\t\t// Обработка ошибок\r\n\t} else {\r\n\t\t// Объект для передачи ошибок в форму\r\n\t\tconst errors = { any: [] };\r\n\t\t// Перебор массива ошибок (приходит с сервера)\r\n\t\tresponse.messages.forEach((error) => {\r\n\t\t\t// * Если в тексте ошибки есть Contacts\r\n\t\t\tif (error.includes('Contacts->')) {\r\n\t\t\t\t// Если в объекте errors еще не создан объект contacts\r\n\t\t\t\tif (!errors.contacts) {\r\n\t\t\t\t\t// Создание объекта для ошибок контактов\r\n\t\t\t\t\terrors.contacts = {};\r\n\t\t\t\t}\r\n\t\t\t\t// Вырезаем из текста ошибки название контакта\r\n\t\t\t\tlet contactName = error.split('>')[1].split(')')[0];\r\n\t\t\t\t// Меняем первую букву названия на строчную\r\n\t\t\t\tcontactName = contactName.toLowerCase()[0] + contactName.substring(1);\r\n\t\t\t\t// Вырезаем текст ошибки\r\n\t\t\t\tconst errorText = error.split('(')[0];\r\n\t\t\t\t// Добавляем ошибку в объект ошибок\r\n\t\t\t\terrors.contacts[contactName] = errorText;\r\n\t\t\t\t// * Если ошибка не связана с контактами, проверяем связь\r\n\t\t\t\t// * с другими полями формы\r\n\t\t\t} else if (\r\n\t\t\t\terror.includes('Looking') ||\r\n\t\t\t\terror.includes('About') ||\r\n\t\t\t\terror.includes('FullName')\r\n\t\t\t) {\r\n\t\t\t\t// Вырезаем название формы\r\n\t\t\t\tlet fildName = error.split('(')[1].split(')')[0];\r\n\t\t\t\t// Первая буква строчная\r\n\t\t\t\tfildName = fildName.toLowerCase()[0] + fildName.substring(1);\r\n\t\t\t\t// Вырезаем текст ошибки\r\n\t\t\t\tconst errorText = error.split('(')[0];\r\n\t\t\t\t// Добавляем в объект ошибок\r\n\t\t\t\terrors[fildName] = errorText;\r\n\t\t\t\t// * Если связь с полями формы была не найдена, добавляем ошибку\r\n\t\t\t\t// * в ошибку формы\r\n\t\t\t}\r\n\t\t\t// Добавляем ошибки в общий массив\r\n\t\t\terrors.any.push(error);\r\n\t\t});\r\n\t\treturn errors;\r\n\t}\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1cPfw\",\"menuIsActive\":\"Sidebar_menuIsActive__4urDM\",\"nav\":\"Sidebar_nav__1o75w\",\"list\":\"Sidebar_list__3IE9F\",\"active\":\"Sidebar_active__1r_uS\"};","import React from 'react';\r\nimport loadingImage from './preloader.svg';\r\nimport styles from './Preloader.module.scss';\r\n\r\n// Прелодер для отображения во время ожидания (загрузка данных и тп.)\r\nconst Preloader = () => {\r\n\treturn (\r\n\t\t<div className={styles.preloader}>\r\n\t\t\t<img src={loadingImage} alt=\"Loading...\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Preloader;\r\n","module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.7729c5e2.jpg\";","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nlet initialState = [\r\n\t{\r\n\t\tid: 0,\r\n\t\tname: 'Abram Kuchera',\r\n\t\tmessagesAll: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tmessage: 'Lorem ipsum \\n dolor sit amet.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 1,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 2,\r\n\t\t\t\tmessage: 'Lorem, ipsum dolor.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 4,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 6,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!',\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 1,\r\n\t\tname: 'Anna Milton',\r\n\t\tmessagesAll: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet. 3===D',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 1,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet. 3===D',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 2,\r\n\t\t\t\tmessage: 'Lorem, ipsum dolor.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 4,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 6,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 7,\r\n\t\t\t\tmessage: 'Lorem, ipsum.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 8,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit.',\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\tname: 'Alex Mormon',\r\n\t\tmessagesAll: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 1,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 2,\r\n\t\t\t\tmessage: 'Lorem, ipsum dolor.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 4,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 6,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 7,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 8,\r\n\t\t\t\tmessage: 'Lorem, ipsum dolor.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 9,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 10,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit',\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\tname: 'Sarah Stinson',\r\n\t\tmessagesAll: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tmessage: 'Lorem.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 1,\r\n\t\t\t\tmessage: 'Lorem.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 2,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates iste placeat accusamus explicabo itaque? Totam culpa eum exercitationem iure quia cumque animi aliquid voluptates! Vel fugit ipsa amet quos facilis? Corrupti neque illum nisi soluta perspiciatis fugiat totam doloribus a sint repellat id deleniti maiores, labore sapiente obcaecati consequuntur quas quis odit voluptatum inventore? Placeat dignissimos recusandae voluptatem laborum magnam? Excepturi repudiandae, veritatis deserunt ut dolorum laboriosam ipsum voluptas perferendis maxime ullam neque quam architecto voluptatem rerum illum eaque consequuntur sit veniam voluptate eos qui asperiores. Unde officia blanditiis illum! Deleniti, temporibus deserunt excepturi facere ad libero dolore saepe blanditiis delectus quas dignissimos esse nisi quo magni? Deserunt dignissimos omnis error! Mollitia ut, nihil numquam est animi eligendi maxime omnis! Nihil fuga dolorum, obcaecati quod culpa provident commodi. Eaque unde tempora nam, libero suscipit quis neque deserunt rerum laboriosam possimus doloremque! Quibusdam, enim tempora blanditiis sunt quae distinctio consequatur facere! Doloremque quidem unde ducimus culpa totam quisquam sequi praesentium ab provident minus tenetur explicabo aut, fugiat commodi similique? Qui, praesentium dolorum dolor odio officiis voluptates eum incidunt corporis alias amet? Inventore, ullam dignissimos? Esse ad ipsa optio natus animi placeat exercitationem repellendus facilis, eius reiciendis vitae laborum quisquam ipsam excepturi dolor perferendis amet, alias, odio enim voluptas. Amet, architecto voluptatum!',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmessage: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 4,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!',\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nconst { reducer, actions } = createSlice({\r\n\tname: 'dialogs',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tsendMessage: {\r\n\t\t\treducer: (state, action) => {\r\n\t\t\t\tconst userId = action.payload.userId;\r\n\t\t\t\tconst newMessageId = state[userId].messagesAll.length;\r\n\t\t\t\tstate[userId].messagesAll.push({\r\n\t\t\t\t\tid: newMessageId,\r\n\t\t\t\t\tmessage: action.payload.textMessage,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tprepare: (textMessage, userId) => ({\r\n\t\t\t\tpayload: { textMessage, userId: +userId },\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default reducer;\r\n\r\nexport const { sendMessage } = actions;\r\n","import { usersAPI } from '../../api/api';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\nlet initialState = {\r\n\tusers: null,\r\n\tpageSize: 100,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tfollowingInProgress: [],\r\n};\r\n\r\nconst { reducer, actions } = createSlice({\r\n\tname: 'users',\r\n\tinitialState,\r\n\treducers: {\r\n\t\t// *Принимает юзеров для отрисовки\r\n\t\tsetUsers: (state, action) => {\r\n\t\t\tstate.users = action.payload;\r\n\t\t},\r\n\t\t// *Уснановка выбранной страницы\r\n\t\tsetCurrentPage(state, action) {\r\n\t\t\tstate.currentPage = action.payload;\r\n\t\t},\r\n\t\t// *Количество всех пользователей\r\n\t\tsetTotalUsersCount(state, action) {\r\n\t\t\tstate.totalUsersCount = action.payload;\r\n\t\t},\r\n\t\t// *Переключатель запроса при нажатии на кнопку follow/onfollow\r\n\t\ttoggleIsFollowingProgress: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\t// Если true, то добавляет userId в массив. True приходит,\r\n\t\t\t\t// при нажатии на кнопку, перед запросом на сервер.\r\n\t\t\t\t// Если userId находится в массиве, кнопка отключается\r\n\t\t\t\t// для данного пользователя. После того как придет ответ с\r\n\t\t\t\t// сервера, приходит false и userId из массива удаляется\r\n\t\t\t\taction.payload.followingInProgress\r\n\t\t\t\t\t? state.followingInProgress.push(action.payload.userId)\r\n\t\t\t\t\t: (state.followingInProgress = state.followingInProgress.filter(\r\n\t\t\t\t\t\t\t(id) => id !== action.payload.userId\r\n\t\t\t\t\t  ));\r\n\t\t\t},\r\n\t\t\tprepare: (followingInProgress, userId) => ({\r\n\t\t\t\tpayload: { followingInProgress, userId },\r\n\t\t\t}),\r\n\t\t},\r\n\t\t// *Подписка\r\n\t\tfollowSuccess(state, action) {\r\n\t\t\t// если id юзера совпадает, с переданным id\r\n\t\t\t// в state.users возвращает копию данного юзера\r\n\t\t\t// в которой отмечается подписка на него\r\n\t\t\tstate.users = state.users.map((user) =>\r\n\t\t\t\taction.payload === user.id ? { ...user, followed: true } : user\r\n\t\t\t);\r\n\t\t},\r\n\t\t// *Отписка\r\n\t\tunfollowSuccess(state, action) {\r\n\t\t\t// если id юзера совпадает, с переданным id\r\n\t\t\t// в state.users возвращает копию данного юзера\r\n\t\t\t// в которой отмечается подписка на него\r\n\t\t\tstate.users = state.users.map((user) =>\r\n\t\t\t\taction.payload === user.id ? { ...user, followed: false } : user\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n\tsetUsers,\r\n\tsetCurrentPage,\r\n\tsetTotalUsersCount,\r\n\ttoggleIsFollowingProgress,\r\n\tfollowSuccess,\r\n\tunfollowSuccess,\r\n} = actions;\r\n\r\n// * Thunks\r\n// Получение пользователей с сервера, передача их в state\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(setUsers(null)); // Обнуление юзеров\r\n\tdispatch(setCurrentPage(currentPage)); // установка текущей страницы\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize); // Запрос пользователей\r\n\tdispatch(setUsers(data.items)); // Передает полученных пользователей в state\r\n\tdispatch(setTotalUsersCount(data.totalCount)); // Передает общее количество пользователей в state\r\n};\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n\tdispatch(toggleIsFollowingProgress(true, id));\r\n\tconst resultCode = await usersAPI.follow(id);\r\n\tif (resultCode === 0) {\r\n\t\tdispatch(followSuccess(id));\r\n\t}\r\n\tdispatch(toggleIsFollowingProgress(false, id));\r\n};\r\n\r\nexport const unfollow = (id) => async (dispatch) => {\r\n\tdispatch(toggleIsFollowingProgress(true, id));\r\n\tconst resultCode = await usersAPI.unfollow(id);\r\n\tif (resultCode === 0) {\r\n\t\tdispatch(unfollowSuccess(id));\r\n\t}\r\n\tdispatch(toggleIsFollowingProgress(false, id));\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.2b4f0216.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__22b0R\"};","module.exports = __webpack_public_path__ + \"static/media/logo.0404347d.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu-button.b4b82800.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3v0M5\"};","const { default: Axios } = require('axios');\r\n\r\nconst instance = Axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: { 'API-KEY': '518405bc-aa9c-4a48-a2e6-601627969783' },\r\n});\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance\r\n\t\t\t.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then((response) => response.data);\r\n\t},\r\n\tfollow(id) {\r\n\t\treturn instance\r\n\t\t\t.post(`follow/${id}`)\r\n\t\t\t.then((response) => response.data.resultCode);\r\n\t},\r\n\tunfollow(id) {\r\n\t\treturn instance\r\n\t\t\t.delete(`follow/${id}`)\r\n\t\t\t.then((response) => response.data.resultCode);\r\n\t},\r\n};\r\n\r\nexport const authAPI = {\r\n\tgetAuthUserData() {\r\n\t\treturn instance.get('auth/me').then((response) => response.data);\r\n\t},\r\n\tsignIn(data) {\r\n\t\treturn instance.post('auth/login', data).then((response) => response.data);\r\n\t},\r\n\tsignOut() {\r\n\t\treturn instance.delete('auth/login').then((response) => response.data);\r\n\t},\r\n};\r\n\r\nexport const securityAPI = {\r\n\tgetCaptcha() {\r\n\t\treturn instance\r\n\t\t\t.get('security/get-captcha-url')\r\n\t\t\t.then((response) => response.data.url);\r\n\t},\r\n};\r\n\r\nexport const profileAPI = {\r\n\tgetProfileData(userId) {\r\n\t\treturn instance\r\n\t\t\t.get(`profile/${userId}`)\r\n\t\t\t.then((response) => (response.status === 200 ? response.data : false))\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance\r\n\t\t\t.get(`profile/status/${userId}`)\r\n\t\t\t.then((response) => (response.status === 200 ? response.data : false))\r\n\t},\r\n\tupdateStatus(textStatus) {\r\n\t\treturn instance\r\n\t\t\t.put('profile/status/', { status: textStatus })\r\n\t\t\t.then((response) => response.data);\r\n\t},\r\n\tchangeMyPhoto(file) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\treturn instance\r\n\t\t\t.put('profile/photo', formData, {\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\r\n\t\t\t})\r\n\t\t\t.then((response) => response);\r\n\t},\r\n\tsendUserData(payload) {\r\n\t\treturn instance.put('profile/', payload).then((response) => response.data);\r\n\t},\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__t-kWp\",\"headerContent\":\"Header_headerContent__3LNnc\",\"logoBlock\":\"Header_logoBlock___pUjz\",\"menuButton\":\"Header_menuButton__2Zxwp\",\"logoImage\":\"Header_logoImage__1NN1i\",\"rotateLogo\":\"Header_rotateLogo__PXuxY\",\"logoName\":\"Header_logoName__1SqJG\",\"loginBlock\":\"Header_loginBlock__2Jq-P\",\"isExist\":\"Header_isExist__2RaVA\",\"login\":\"Header_login__3NtI-\",\"avatar\":\"Header_avatar__Ez6cm\",\"dropDownMenu\":\"Header_dropDownMenu__uLhFr\",\"active\":\"Header_active__1l9Gu\"};"],"sourceRoot":""}