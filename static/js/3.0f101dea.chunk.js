(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{101:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(86),u=n(17),o=n(3),c=n(9),s=n(87),l=n(45),f=n(90),d=n(88),m=n(94),b=n.n(m),p=function(e){return e.messages.map((function(e){return i.a.createElement("div",{key:e.id,className:b.a.message},e.message)}))},v=function(e){return i.a.createElement(a.b,{onSubmit:function(t,n){e.sendMessage(t.newMessage,e.userId),setTimeout(n.reset)},render:function(e){var t=e.handleSubmit,n=e.values;return i.a.createElement("form",{className:b.a.newMessage,onSubmit:t},i.a.createElement(a.a,{component:d.b,name:"newMessage",placeholder:"Enter your message...",validate:Object(f.a)(0,100)}),n.newMessage&&i.a.createElement("button",null,"Send"))}})};t.default=Object(c.d)(Object(u.b)((function(e){return{dialogs:e.dialogs}}),{sendMessage:l.b}),o.f,s.a)((function(e){var t=e.match.params.userId;return i.a.createElement("div",{className:b.a.messages},i.a.createElement("div",{className:b.a.openMessages},i.a.createElement(o.b,{path:"/dialog/".concat(t),render:function(){return i.a.createElement(p,{messages:e.dialogs[t].messagesAll})}})),i.a.createElement("div",{className:b.a.newMessageWrap},i.a.createElement("div",null),i.a.createElement(v,{sendMessage:e.sendMessage,userId:t})))}))},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return y}));var r=n(1),i=n(5),a=n(0),u=n.n(a),o=n(21);function c(e,t,n){var r=e.render,u=e.children,o=e.component,c=Object(i.a)(e,["render","children","component"]);if(o)return Object(a.createElement)(o,Object.assign(t,c,{children:u,render:r}));if(r)return r(void 0===u?Object.assign(t,c):Object.assign(t,c,{children:u}));if("function"!==typeof u)throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return u(Object.assign(t,c))}function s(e,t,n){void 0===n&&(n=function(e,t){return e===t});var r=u.a.useRef(e);u.a.useEffect((function(){n(e,r.current)||(t(),r.current=e)}))}var l=function(e,t){if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),a=0;a<n.length;a++){var u=n[a];if(!i(u)||e[u]!==t[u])return!1}return!0},f=function(e){return!(!e||"function"!==typeof e.stopPropagation)},d=Object(a.createContext)();function m(e){var t=u.a.useRef(e);return u.a.useEffect((function(){t.current=e})),t}var b=function(e,t,n){n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},enumerable:!0})}))},p=function(e,t){return b(e,t,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},v={"final-form":o.e,"react-final-form":"6.5.0"},g=o.d.reduce((function(e,t){return e[t]=!0,e}),{});function y(e){var t=e.debug,n=e.decorators,b=e.destroyOnUnregister,y=e.form,O=e.initialValues,h=e.initialValuesEqual,E=e.keepDirtyOnReinitialize,j=e.mutators,S=e.onSubmit,w=e.subscription,F=void 0===w?g:w,V=e.validate,_=e.validateOnBlur,M=Object(i.a)(e,["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"]),k={debug:t,destroyOnUnregister:b,initialValues:O,keepDirtyOnReinitialize:E,mutators:j,onSubmit:S,validate:V,validateOnBlur:_},x=function(e){var t=u.a.useRef();return t.current||(t.current=e()),t.current}((function(){var e=y||Object(o.b)(k);return e.pauseValidation(),e})),R=Object(a.useState)((function(){var e={};return x.subscribe((function(t){e=t}),F)(),e})),P=R[0],C=R[1],A=m(P);Object(a.useEffect)((function(){x.isValidationPaused()&&x.resumeValidation();var e=[x.subscribe((function(e){l(e,A.current)||C(e)}),F)].concat(n?n.map((function(e){return e(x)})):[]);return function(){x.pauseValidation(),e.reverse().forEach((function(e){return e()}))}}),[n]),s(t,(function(){x.setConfig("debug",t)})),s(b,(function(){x.destroyOnUnregister=!!b})),s(E,(function(){x.setConfig("keepDirtyOnReinitialize",E)})),s(O,(function(){x.setConfig("initialValues",O)}),h||l),s(j,(function(){x.setConfig("mutators",j)})),s(S,(function(){x.setConfig("onSubmit",S)})),s(V,(function(){x.setConfig("validate",V)})),s(_,(function(){x.setConfig("validateOnBlur",_)}));var N={form:Object(r.a)({},x,{reset:function(e){f(e)?x.reset():x.reset(e)}}),handleSubmit:function(e){return e&&("function"===typeof e.preventDefault&&e.preventDefault(),"function"===typeof e.stopPropagation&&e.stopPropagation()),x.submit()}};return p(N,P),Object(a.createElement)(d.Provider,{value:x},c(Object(r.a)({},M,{__versions:v}),N,"ReactFinalForm"))}function O(e){var t=Object(a.useContext)(d);if(!t)throw new Error((e||"useForm")+" must be used inside of a <Form> component");return t}var h="undefined"!==typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,E=o.c.reduce((function(e,t){return e[t]=!0,e}),{}),j=function(e,t){return void 0===e?"":e},S=function(e,t){return""===e?void 0:e},w=function(e,t){return e===t};function F(e,t){void 0===t&&(t={});var n=t,i=n.afterSubmit,u=n.allowNull,o=n.component,c=n.data,s=n.defaultValue,l=n.format,f=void 0===l?j:l,d=n.formatOnBlur,p=n.initialValue,v=n.multiple,g=n.parse,y=void 0===g?S:g,F=n.subscription,V=void 0===F?E:F,_=n.type,M=n.validateFields,k=n.value,x=O("useField"),R=m(t),P=function(t,n){return x.registerField(e,t,V,{afterSubmit:i,beforeSubmit:function(){var t=R.current,n=t.beforeSubmit,r=t.formatOnBlur,i=t.format,a=void 0===i?j:i;if(r){var u=x.getFieldState(e).value,o=a(u,e);o!==u&&x.change(e,o)}return n&&n()},data:c,defaultValue:s,getValidator:function(){return R.current.validate},initialValue:p,isEqual:function(e,t){return(R.current.isEqual||w)(e,t)},silent:n,validateFields:M})},C=Object(a.useRef)(!0),A=Object(a.useState)((function(){var e={},t=x.destroyOnUnregister;return x.destroyOnUnregister=!1,P((function(t){e=t}),!0)(),x.destroyOnUnregister=t,e})),N=A[0],B=A[1];Object(a.useEffect)((function(){return P((function(e){C.current?C.current=!1:B(e)}),!1)}),[e,c,s,p]);var D={onBlur:Object(a.useCallback)((function(e){if(N.blur(),d){var t=x.getFieldState(N.name);N.change(f(t.value,N.name))}}),[N.name,f,d]),onChange:Object(a.useCallback)((function(t){var n=t&&t.target?function(e,t,n,r){if(!r&&e.nativeEvent&&void 0!==e.nativeEvent.text)return e.nativeEvent.text;if(r&&e.nativeEvent)return e.nativeEvent.text;var i=e.target,a=i.type,u=i.value,o=i.checked;switch(a){case"checkbox":if(void 0!==n){if(o)return Array.isArray(t)?t.concat(n):[n];if(!Array.isArray(t))return t;var c=t.indexOf(n);return c<0?t:t.slice(0,c).concat(t.slice(c+1))}return!!o;case"select-multiple":return function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t}(e.target.options);default:return u}}(t,N.value,k,h):t;N.change(y(n,e))}),[k,e,y,N.change,N.value,_]),onFocus:Object(a.useCallback)((function(e){N.focus()}),[])},L={};!function(e,t){b(e,t,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])}(L,N);var q=Object(r.a)({name:e,get value(){var t=N.value;return d?"input"===o&&(t=j(t)):t=f(t,e),null!==t||u||(t=""),"checkbox"===_||"radio"===_?k:"select"===o&&v?t||[]:t},get checked(){return"checkbox"===_?void 0===k?!!N.value:!(!Array.isArray(N.value)||!~N.value.indexOf(k)):"radio"===_?N.value===k:void 0}},D);return v&&(q.multiple=v),void 0!==_&&(q.type=_),{input:q,meta:L}}var V=Object(a.forwardRef)((function(e,t){var n=e.afterSubmit,u=e.allowNull,o=e.beforeSubmit,s=e.children,l=e.component,f=e.data,d=e.defaultValue,m=e.format,b=e.formatOnBlur,p=e.initialValue,v=e.isEqual,g=e.multiple,y=e.name,O=e.parse,h=e.subscription,E=e.type,j=e.validate,S=e.validateFields,w=e.value,V=Object(i.a)(e,["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"]),_=F(y,{afterSubmit:n,allowNull:u,beforeSubmit:o,children:s,component:l,data:f,defaultValue:d,format:m,formatOnBlur:b,initialValue:p,isEqual:v,multiple:g,parse:O,subscription:h,type:E,validate:j,validateFields:S,value:w});if("function"===typeof s)return s(Object(r.a)({},_,V));if("string"===typeof l)return Object(a.createElement)(l,Object(r.a)({},_.input,{children:s,ref:t},V));if(!y)throw new Error("prop name cannot be undefined in <Field> component");return c(Object(r.a)({children:s,component:l,ref:t},V),_,"Field("+y+")")}))},87:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}n.d(t,"a",(function(){return p}));var l=n(0),f=n.n(l),d=n(3),m=n(17),b=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,t);var n,c,l,m,b=(n=p,function(){var e,t=u(n);if(o()){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function p(){return r(this,p),b.apply(this,arguments)}return c=p,(l=[{key:"render",value:function(){return this.props.isAuth?f.a.createElement(e,this.props):f.a.createElement(d.a,{to:"/login"})}}])&&i(c.prototype,l),m&&i(c,m),p}(f.a.Component);return Object(m.b)(b)(t)}},88:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var i=n(0),a=n.n(i),u=function(e){var t=e.input,n=e.meta,i=r(e,["input","meta"]),u=i.element;return a.a.createElement(a.a.Fragment,null,a.a.createElement(u,Object.assign({},t,{placeholder:i.placeholder,autoFocus:i.autoFocus,maxLength:i.maxLength})),(n.submitError||n.error)&&(t.value.length>5||n.touched)&&a.a.createElement("span",null,n.submitError||n.error))},o=function(e){return a.a.createElement(u,Object.assign({element:"input"},e))},c=function(e){return a.a.createElement(u,Object.assign({element:"textarea"},e))}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}(function(e){return function(t){return t&&t.length<e?"Min length is ".concat(e," symbols"):void 0}}(e),function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(t),(r=n,function(e){return e?void 0:r}));var r}},94:function(e,t,n){e.exports={messages:"Messages_messages__1W4yH",message:"Messages_message__2OzvQ",newMessageWrap:"Messages_newMessageWrap__2Z1RN",newMessage:"Messages_newMessage__LsmP3"}}}]);
//# sourceMappingURL=3.0f101dea.chunk.js.map