(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[4],{102:function(e,t,a){e.exports={profile:"Profile_profile__3cqaC",topImage:"Profile_topImage__1QeV6",contentBlockWrapper:"Profile_contentBlockWrapper__1FqB6",contentBlock:"Profile_contentBlock__65spg",postsBlock:"Profile_postsBlock__zeNoh",newPostBlock:"Profile_newPostBlock__giv8A",buttonWrap:"Profile_buttonWrap__1RmpI",existingPostsBlock:"Profile_existingPostsBlock__2kvb8",post:"Profile_post__2MTw2",likes:"Profile_likes__2O56D"}},140:function(e,t,a){e.exports=a.p+"static/media/les_tuman_derevia.712fe5c8.jpg"},141:function(e,t,a){e.exports={pageWrap:"PageInfo_pageWrap__2K7pu",page:"PageInfo_page__1qF3a",pageHead:"PageInfo_pageHead__1QobR",avatar:"PageInfo_avatar__152Hg",isExist:"PageInfo_isExist__1yBh5",mainInfo:"PageInfo_mainInfo__x9DFl",pageName:"PageInfo_pageName__1178Y",status:"PageInfo_status__2S7Fz",myStatus:"PageInfo_myStatus__3rdSq",enterStatus:"PageInfo_enterStatus__3VqKj",personalInfoWrap:"PageInfo_personalInfoWrap__1SPXQ",topBorder:"PageInfo_topBorder__2E-bb",editModeButton:"PageInfo_editModeButton__5hW80",personalInfo:"PageInfo_personalInfo__14PLz",aboutMeBlock:"PageInfo_aboutMeBlock__2sHuN",pageInfoRow:"PageInfo_pageInfoRow__FPyju",contactsBlock:"PageInfo_contactsBlock__2aMQD",contactsTitle:"PageInfo_contactsTitle__3Wbtl",contactsItem:"PageInfo_contactsItem__2ltnM",photoWrap:"PageInfo_photoWrap__2sF9I",photoFullwindow:"PageInfo_photoFullwindow__1kHnw"}},148:function(e,t,a){e.exports={pageInfoFormWrap:"PageInfoForm_pageInfoFormWrap__38mvM",inputItem:"PageInfoForm_inputItem__14SGn",nameItem:"PageInfoForm_nameItem__JZvop",checkboxField:"PageInfoForm_checkboxField__2qKnJ",textField:"PageInfoForm_textField__27vFO",contactsTitle:"PageInfoForm_contactsTitle__3Drkj",buttons:"PageInfoForm_buttons__H_iJ5",errorsWrap:"PageInfoForm_errorsWrap__3Ye7d",errors:"PageInfoForm_errors__3eNjV",blinkError:"PageInfoForm_blinkError__ha4JU"}},149:function(e,t,a){e.exports={error:"Error_error__2sZ_4"}},163:function(e,t,a){"use strict";a.r(t);var n=a(23),o=a(0),r=a.n(o),c=a(16),s=a(3),l=a(9),i=a(32),m=a.n(i),u=a(140),f=a.n(u),p=a(18),d=a(19),_=a(21),g=a(102),E=a.n(g),b=a(24),v=a(141),P=a.n(v),I=a(100),h=r.a.memo((function(e){var t=e.status,a=e.updateUserStatus,c=e.isMyProfile,s=Object(o.useState)(!1),l=Object(n.a)(s,2),i=l[0],m=l[1];return r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:E.a.status},r.a.createElement(I.b,{initialValues:{status:t},onSubmit:function(e,t){var n=e.status;a(n),m(!1)}},(function(e){var t=e.handleSubmit;return r.a.createElement(I.a,{onBlur:t,autoFocus:!0,component:"input",name:"status",maxLength:"300"})}))):t||c?r.a.createElement("div",{className:E.a.status},r.a.createElement("span",{onClick:c?function(){m(!0)}:void 0,title:c?"Click to change your status":"",className:c?t?E.a.myStatus:E.a.enterStatus:""},t||"Enter your status...")):void 0)})),N=a(31),k=a.n(N),F=function(e){var t=e.photo,a=e.setIsPhotoFullWindow;return Object(o.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="auto"}})),r.a.createElement("div",{className:P.a.photoWrap,onClick:function(){return a(!1)}},r.a.createElement("div",{className:P.a.photoFullwindow},r.a.createElement("img",{src:t,alt:""})))},j=function(e){var t,a=e.contacts,n=!1;return a&&(t=Object.entries(a).map((function(e){return e[1]?(n=!0,r.a.createElement("div",{key:e[0],className:P.a.contactsItem},r.a.createElement("span",{className:P.a.contactName},"".concat(e[0],": ")),e[1])):""}))),r.a.createElement("div",{className:P.a.contactsBlock},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.contactsTitle},"Contacts:"),t):"")},O=function(e){var t=e.aboutMe,a=e.lookingForAJob,n=e.lookingForAJobDescription;return r.a.createElement("div",{className:P.a.aboutMeBlock},t?r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"About me:"),t):"",r.a.createElement("div",{className:P.a.pageInfoRow},r.a.createElement("span",null,"Looking for a job: "),a?"Yes":"No"),n?r.a.createElement("div",{className:P.a.pageInfoRow},n):"")},w=function(e){var t=e.defaultAvatar,a=e.isMyProfile,c=e.status,s=e.updateUserStatus,l=e.changeMyPhoto,i=e.setPageEditMode,m=e.profile,u=m.contacts,f=m.photos,p=m.fullName,d=m.aboutMe,_=m.lookingForAJob,g=m.lookingForAJobDescription,E=Object(o.useState)(!1),v=Object(n.a)(E,2),I=v[0],N=v[1];return r.a.createElement(r.a.Fragment,null,I&&r.a.createElement(F,{setIsPhotoFullWindow:N,photo:f.large}),r.a.createElement("div",{className:P.a.pageWrap},r.a.createElement("div",{className:P.a.page},r.a.createElement("div",{className:P.a.pageHead},r.a.createElement("div",{className:P.a.avatar},r.a.createElement("img",{onClick:f.large&&function(){return N(!0)},src:f&&(f.large||t),className:k()(Object(b.a)({},P.a.isExist,f.large)),alt:"avatar"}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"setPhoto",type:"file",onChange:function(e){e.target.files.length&&l(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"setPhoto"},"Set photo"))),r.a.createElement("div",{className:P.a.mainInfo},r.a.createElement("div",{className:P.a.pageName},p),r.a.createElement(h,{isMyProfile:a,status:c,updateUserStatus:s}))),r.a.createElement("div",{className:P.a.personalInfoWrap},r.a.createElement("div",{className:P.a.topBorder},"Personal information",a&&r.a.createElement("button",{onClick:function(){return i(!0)},className:P.a.editModeButton,type:"button"},"Edit")),r.a.createElement("div",{className:P.a.personalInfo},r.a.createElement(O,{aboutMe:d,lookingForAJob:_,lookingForAJobDescription:g}),r.a.createElement(j,{contacts:u}))))))},y=a(93),S=a(119),B=S.a().shape({newPostInput:S.b().required()}),M=r.a.memo((function(e){return r.a.createElement(I.b,{initialValues:{newPostInput:""},validationSchema:B,onSubmit:function(t,a){e.addPost(t.newPostInput),a.resetForm()}},(function(e){var t=e.handleSubmit,a=e.errors,n=e.touched;return r.a.createElement("form",{className:E.a.newPostBlock,onSubmit:t},r.a.createElement(I.a,{name:"newPostInput",as:y.a,placeholder:"What's up?",error:a.newPostInput,touched:n.newPostInput,maxLength:"1000"}),r.a.createElement("div",{className:E.a.buttonWrap},r.a.createElement("button",{type:"submit"},"Add post")))}))})),x=r.a.memo((function(e){return r.a.createElement("div",{className:E.a.existingPostsBlock},e.posts.map((function(e){return r.a.createElement("div",{key:e.id,className:E.a.post},r.a.createElement("div",null,e.textPost),r.a.createElement("div",{className:E.a.likes},e.amountLikes," likes"))})).reverse())})),A=a(1),W=a.n(A),D=a(4),J=a(148),T=a.n(J),U=a(84),C=function(e){var t=e.errors,a=Object(o.useState)(0),c=Object(n.a)(a,2),s=c[0],l=c[1],i=Object(o.useState)(!1),m=Object(n.a)(i,2),u=m[0],f=m[1];return Object(o.useEffect)((function(){var e,a;return t&&t.any&&t.any.length>1&&(e=setTimeout((function(){t&&t.any&&s<t.any.length-1?(l(s+1),f(!0),a=setTimeout((function(){f(!1)}),500)):(l(0),f(!0),a=setTimeout((function(){f(!1)}),500))}),2e3)),function(){clearTimeout(e),clearTimeout(a)}}),[t,s]),r.a.createElement("div",{className:T.a.errorsWrap},t.any?r.a.createElement("div",{className:k()(T.a.errors,Object(b.a)({},T.a.blinkError,u))},t.any[s]):"")},q=function(e){var t=e.setPageEditMode,a=e.profile,n=a.contacts,o=a.fullName,c=a.aboutMe,s=a.lookingForAJob,l=a.lookingForAJobDescription,i=e.changeUserData;return Object(U.a)(),r.a.createElement(I.b,{initialValues:{contacts:n,fullName:o,aboutMe:c,lookingForAJob:s,lookingForAJobDescription:l},onSubmit:function(){var e=Object(D.a)(W.a.mark((function e(t,a){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:(n=e.sent)&&a.setErrors(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,o=e.errors,c=e.touched,s=e.values;return r.a.createElement("div",{className:T.a.pageInfoFormWrap},r.a.createElement("form",{onSubmit:a},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Personal info"),r.a.createElement("div",{className:k()(T.a.fullName,T.a.inputItem)},r.a.createElement("div",{className:T.a.nameItem},"Your name: "),r.a.createElement("div",{className:T.a.textField},r.a.createElement(I.a,{as:y.a,name:"fullName",placeholder:"Your name",error:o.fullName,touched:c.fullName}))),r.a.createElement("div",{className:T.a.aboutMeBlock},r.a.createElement("div",{className:T.a.inputItem},r.a.createElement("div",{className:T.a.nameItem},"About me: "),r.a.createElement("div",{className:T.a.textField},r.a.createElement(I.a,{as:y.b,name:"aboutMe",placeholder:"About me",error:o.aboutMe,touched:c.aboutMe}))),r.a.createElement("div",{className:T.a.inputItem},r.a.createElement("label",{className:T.a.nameItem,htmlFor:"lookingForAJob"},"Looking for a job:"," "),r.a.createElement("div",{className:T.a.checkboxField},r.a.createElement(I.a,{type:"checkbox",name:"lookingForAJob"}))),r.a.createElement("div",{className:T.a.inputItem},r.a.createElement("div",{className:T.a.nameItem},"Your skills: "),r.a.createElement("div",{className:T.a.textField},r.a.createElement(I.a,{as:y.b,name:"lookingForAJobDescription",placeholder:"Description",error:o.lookingForAJobDescription,touched:c.lookingForAJobDescription})))),r.a.createElement("div",{className:T.a.contactsBlock},r.a.createElement("div",{className:T.a.contactsTitle},"Contacts:"),Object.entries(n).map((function(e){return r.a.createElement("div",{key:e[0],className:k()(T.a.contactsItem,T.a.inputItem)},r.a.createElement("div",{className:T.a.nameItem},"".concat(e[0],": ")),r.a.createElement("div",{className:T.a.textField},r.a.createElement(I.a,{as:y.a,name:"contacts.".concat(e[0]),value:s.contacts[e[0]]||"",error:o&&o.contacts&&o.contacts[e[0]],touched:c&&c.contacts&&c.contacts[e[0]]})))}))),r.a.createElement("div",{className:T.a.buttons},r.a.createElement("button",{type:"submit",className:T.a.saveButton},"Save"),r.a.createElement("button",{onClick:function(){return t(!1)},className:T.a.cancelButton,type:"button"},"Cancel"))),r.a.createElement(C,{errors:o})))}))},H=r.a.memo((function(e){var t=e.topImage,a=e.isMyProfile,c=e.profile,s=e.defaultAvatar,l=e.status,i=e.updateUserStatus,m=e.addPost,u=e.existingPosts,f=e.isAuth,p=e.changeMyPhoto,d=e.userId,_=e.changeUserData,g=Object(o.useState)(!1),b=Object(n.a)(g,2),v=b[0],P=b[1];return Object(U.a)(),v?r.a.createElement(q,{setPageEditMode:P,profile:c,changeUserData:_}):r.a.createElement("div",{className:E.a.profile},r.a.createElement("div",{className:E.a.topImage},r.a.createElement("img",{src:t,alt:"cover"})),r.a.createElement("div",{className:E.a.contentBlockWrapper},r.a.createElement("div",{className:E.a.contentBlock},r.a.createElement(w,{isMyProfile:a,profile:c,defaultAvatar:s,status:l,updateUserStatus:i,changeMyPhoto:p,userId:d,setPageEditMode:P}),r.a.createElement("div",{className:E.a.postsBlock},f?r.a.createElement(M,{addPost:m}):"",r.a.createElement(x,{posts:u})))))})),L=a(149),R=a.n(L),V=function(){return r.a.createElement("div",{className:R.a.error},"Oops! Something went wrong...")},Y={updateUserStatus:d.j,getAuthUserData:p.b,addPost:d.a,getProfile:d.f,changeMyPhoto:d.b,changeUserData:d.c,setUserProfile:d.i,setErrorDownloadProfile:d.g};t.default=Object(l.d)(Object(c.b)((function(e){return{topImage:f.a,defaultAvatar:m.a,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId,existingPosts:e.profilePage.existingPosts,errorDownloadProfile:e.profilePage.errorDownloadProfile,isFetchingProfile:e.profilePage.isFetchingProfile}}),Y),s.h,r.a.memo)((function(e){var t=e.match.params.userId,a=e.authUserId,c=e.getProfile,l=e.isAuth,i=e.profile,m=e.errorDownloadProfile,u=e.setErrorDownloadProfile,f=e.setUserProfile,p=+t,d=Object(o.useState)(!1),g=Object(n.a)(d,2),E=g[0],b=g[1];return Object(o.useEffect)((function(){if(p)return a===p&&b(!0),c(p),function(){u(!1),f(null)}}),[p,a,c,f,u]),Object(o.useEffect)((function(){l||b(!1)}),[l]),p?r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(V,null),i?r.a.createElement(H,Object.assign({},e,{isMyProfile:E})):r.a.createElement(_.a,null)):l?r.a.createElement(s.a,{to:"/profile/".concat(a)}):r.a.createElement(s.a,{to:"/login"})}))},84:function(e,t,a){"use strict";var n=a(0),o=a(3);t.a=function(){var e=Object(o.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(24),o=a(23),r=a(123),c=a(0),s=a.n(c),l=a(97),i=a.n(l),m=a(31),u=a.n(m),f=function(e){var t=e.error,a=e.touched,l=e.serverError,m=Object(r.a)(e,["error","touched","serverError"]),f=m.element,p=Object(c.useState)(!1),d=Object(o.a)(p,2),_=d[0],g=d[1];return Object(c.useEffect)((function(){var e;return t&&a&&(g(!0),e=setTimeout((function(){g(!1)}),1e3)),function(){return clearTimeout(e)}}),[t,a]),Object(c.useEffect)((function(){var e;return l&&(g(!0),e=setTimeout((function(){g(!1)}),1e3)),function(){return clearTimeout(e)}}),[l]),s.a.createElement(f,Object.assign({},m,{className:u()([i.a.defaultElement],Object(n.a)({},i.a.error,_))}))},p=function(e){return s.a.createElement(f,Object.assign({element:"input"},e))},d=function(e){return s.a.createElement(f,Object.assign({element:"textarea"},e))}},97:function(e,t,a){e.exports={defaultElement:"FormControls_defaultElement__3jSSc",error:"FormControls_error___hLaz"}}}]);
//# sourceMappingURL=4.c1c8c645.chunk.js.map