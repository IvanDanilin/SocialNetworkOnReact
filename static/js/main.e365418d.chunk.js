(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[1],{13:function(e,t,a){e.exports={header:"Header_header__1v0yI",headerContent:"Header_headerContent__31fpy",logoBlock:"Header_logoBlock__3qhVH",menuButton:"Header_menuButton__3klE9",logoImage:"Header_logoImage__3t88t",rotateLogo:"Header_rotateLogo__2qrJK",logoName:"Header_logoName__2ubJY",loginBlock:"Header_loginBlock__3g_eP",login:"Header_login__2sv5i",avatar:"Header_avatar__3tspW",dropDownMenu:"Header_dropDownMenu__x1-O_"}},15:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__3qUkX",menuIsActive:"Sidebar_menuIsActive__3xCHP",nav:"Sidebar_nav__18KQo",list:"Sidebar_list__lXo7L",active:"Sidebar_active__9wFJE"}},18:function(e,t,a){"use strict";a.d(t,"f",(function(){return g})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return q}));var n=a(1),i=a.n(n),r=a(4),s=a(17),u=a(5),o=a(19),c=a(10),l=Object(c.b)({name:"auth",initialState:{userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,signOutInProcess:!1},reducers:{setAuthUserData:{reducer:function(e,t){return Object(s.a)(Object(s.a)({},e),t.payload)},prepare:function(e,t,a,n){return{payload:{userId:e,email:t,login:a,isAuth:n}}}},setCaptcha:function(e,t){e.captchaUrl=t.payload},toggleSignOutInProcess:function(e,t){var a=t.payload;e.signOutInProcess=a}}}),m=l.actions,d=l.reducer,p=m.setAuthUserData,f=m.setCaptcha,g=m.toggleSignOutInProcess;t.a=d;var b=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getAuthUserData();case 2:if(0!==(a=e.sent).resultCode){e.next=10;break}return n=a.data,r=n.id,s=n.login,c=n.email,t(p(r,c,s,!0)),t(Object(o.e)(r)),e.abrupt("return",{id:r,login:s,email:c});case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.c.getCaptcha();case 2:a=e.sent,t(f(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.signIn(e);case 2:if(0!==(n=t.sent).resultCode){t.next=8;break}a(b()),a(f(null)),t.next=14;break;case 8:if(10!==n.resultCode){t.next=13;break}return a(v()),t.abrupt("return",n.messages[0]);case 13:return t.abrupt("return",n.messages[0]);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.signOut();case 2:0===e.sent.resultCode?(t(p(null,null,null,!1)),Object(o.h)(null)):console.log("logout error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},19:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"i",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return v})),a.d(t,"e",(function(){return x})),a.d(t,"j",(function(){return E})),a.d(t,"b",(function(){return w})),a.d(t,"c",(function(){return P}));var n=a(1),i=a.n(n),r=a(4),s=a(10),u=a(5),o=Object(s.b)({name:"profile",initialState:{errorDownloadProfile:!1,myProfile:{photos:{}},profile:null,status:"",isMyProfile:!1,existingPosts:[{id:0,textPost:"Lorem ipsum dolor",amountLikes:54},{id:1,textPost:"Lorem ipsum dolor, sit amet consectetur",amountLikes:64},{id:2,textPost:"I like JS and React",amountLikes:516},{id:3,textPost:"Lorem ipsum dolor, sit amet consectetur adipisicing elit.",amountLikes:5},{id:4,textPost:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.",amountLikes:32},{id:5,textPost:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.",amountLikes:32},{id:6,textPost:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum incidunt nam saepe unde similique, eaque quisquam nostrum ducimus aliquid quas illum ea amet dignissimos, impedit fugit nemo tenetur nobis architecto.",amountLikes:32}]},reducers:{addPost:function(e,t){e.existingPosts.push({id:e.existingPosts.length,textPost:t.payload,amountLikes:0})},setUserProfile:function(e,t){e.profile=t.payload},setMyUserProfile:function(e,t){e.myProfile=t.payload},setStatus:function(e,t){e.status=t.payload},updatePhoto:function(e,t){e.profile.photos=t.payload.data.photos,e.myProfile.photos=t.payload.data.photos},setErrorDownloadProfile:function(e,t){e.errorDownloadProfile=t.payload}}}),c=o.actions,l=o.reducer;t.d=l;var m=c.addPost,d=c.setUserProfile,p=c.setMyUserProfile,f=c.setStatus,g=c.updatePhoto,b=c.setErrorDownloadProfile,v=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([a(h(e)),a(q(e))]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),a(b(!0));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(d(null)),t.next=3,u.b.getProfileData(e);case 3:(n=t.sent)&&a(d(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(null)),t.next=3,u.b.getStatus(e);case 3:(n=t.sent)&&a(f(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getProfileData(e);case 2:n=t.sent,a(p(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.resultCode&&a(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.changeMyPhoto(e);case 2:0===(n=t.sent).data.resultCode&&a(g(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a,n){var r,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userId,t.next=3,u.b.sendUserData(e);case 3:if(0!==(s=t.sent).resultCode){t.next=9;break}a(h(r)),a(x(r)),t.next=12;break;case 9:return o={any:[]},s.messages.forEach((function(e){if(e.includes("Contacts->")){o.contacts||(o.contacts={});var t=e.split(">")[1].split(")")[0];t=t.toLowerCase()[0]+t.substring(1);var a=e.split("(")[0];o.contacts[t]=a}else if(e.includes("Looking")||e.includes("About")||e.includes("FullName")){var n=e.split("(")[1].split(")")[0];n=n.toLowerCase()[0]+n.substring(1);var i=e.split("(")[0];o[n]=i}o.any.push(e)})),t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},21:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(46),s=a.n(r),u=a(47),o=a.n(u);t.a=function(){return i.a.createElement("div",{className:o.a.preloader},i.a.createElement("img",{src:s.a,alt:"Loading..."}))}},32:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.7729c5e2.jpg"},43:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(10),i=Object(n.b)({name:"dialogs",initialState:[{id:0,name:"Abram Kuchera",messagesAll:[{id:0,message:"Lorem ipsum \n dolor sit amet."},{id:1,message:"Lorem ipsum dolor sit amet."},{id:2,message:"Lorem, ipsum dolor."},{id:3,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},{id:4,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!"},{id:5,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium."},{id:6,message:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!"}]},{id:1,name:"Anna Milton",messagesAll:[{id:0,message:"Lorem ipsum dolor sit amet. 3===D"},{id:1,message:"Lorem ipsum dolor sit amet. 3===D"},{id:2,message:"Lorem, ipsum dolor."},{id:3,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},{id:4,message:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!"},{id:5,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!"},{id:6,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium."},{id:7,message:"Lorem, ipsum."},{id:8,message:"Lorem ipsum dolor sit."}]},{id:2,name:"Alex Mormon",messagesAll:[{id:0,message:"Lorem ipsum dolor sit amet."},{id:1,message:"Lorem ipsum dolor sit amet."},{id:2,message:"Lorem, ipsum dolor."},{id:3,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},{id:4,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Est tempora placeat fugit modi asperiores officiis!"},{id:5,message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita aut modi distinctio dolor magni. Debitis quasi itaque illum cumque, deserunt aliquid iusto accusantium rem veniam excepturi error provident, deleniti praesentium."},{id:6,message:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!"},{id:7,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},{id:8,message:"Lorem, ipsum dolor."},{id:9,message:"Lorem ipsum dolor sit amet."},{id:10,message:"Lorem ipsum dolor sit"}]},{id:3,name:"Sarah Stinson",messagesAll:[{id:0,message:"Lorem."},{id:1,message:"Lorem."},{id:2,message:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates iste placeat accusamus explicabo itaque? Totam culpa eum exercitationem iure quia cumque animi aliquid voluptates! Vel fugit ipsa amet quos facilis? Corrupti neque illum nisi soluta perspiciatis fugiat totam doloribus a sint repellat id deleniti maiores, labore sapiente obcaecati consequuntur quas quis odit voluptatum inventore? Placeat dignissimos recusandae voluptatem laborum magnam? Excepturi repudiandae, veritatis deserunt ut dolorum laboriosam ipsum voluptas perferendis maxime ullam neque quam architecto voluptatem rerum illum eaque consequuntur sit veniam voluptate eos qui asperiores. Unde officia blanditiis illum! Deleniti, temporibus deserunt excepturi facere ad libero dolore saepe blanditiis delectus quas dignissimos esse nisi quo magni? Deserunt dignissimos omnis error! Mollitia ut, nihil numquam est animi eligendi maxime omnis! Nihil fuga dolorum, obcaecati quod culpa provident commodi. Eaque unde tempora nam, libero suscipit quis neque deserunt rerum laboriosam possimus doloremque! Quibusdam, enim tempora blanditiis sunt quae distinctio consequatur facere! Doloremque quidem unde ducimus culpa totam quisquam sequi praesentium ab provident minus tenetur explicabo aut, fugiat commodi similique? Qui, praesentium dolorum dolor odio officiis voluptates eum incidunt corporis alias amet? Inventore, ullam dignissimos? Esse ad ipsa optio natus animi placeat exercitationem repellendus facilis, eius reiciendis vitae laborum quisquam ipsam excepturi dolor perferendis amet, alias, odio enim voluptas. Amet, architecto voluptatum!"},{id:3,message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},{id:4,message:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Incidunt facere temporibus veritatis quam alias fugiat iste sit repellendus culpa iusto ex asperiores, vero, non odit doloribus saepe eligendi maxime quae! Sapiente reprehenderit laboriosam, atque veniam doloribus iste eius corrupti vel quo quae magnam error, nostrum molestias esse nulla explicabo perspiciatis earum quia. Nostrum accusamus, alias qui molestiae distinctio dolores consequuntur. Praesentium facere, incidunt dolores mollitia ex impedit. Impedit voluptates amet exercitationem nobis fugit similique, asperiores commodi provident quibusdam itaque dolorum tenetur laboriosam, cumque numquam, vero veniam eius consequatur. Harum, blanditiis!"}]}],reducers:{sendMessage:{reducer:function(e,t){var a=t.payload.userId,n=e[a].messagesAll.length;e[a].messagesAll.push({id:n,message:t.payload.textMessage})},prepare:function(e,t){return{payload:{textMessage:e,userId:+t}}}}}}),r=i.reducer,s=i.actions;t.a=r;var u=s.sendMessage},44:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return q})),a.d(t,"e",(function(){return x}));var n=a(1),i=a.n(n),r=a(4),s=a(17),u=a(5),o=a(10),c=Object(o.b)({name:"users",initialState:{users:null,pageSize:100,totalUsersCount:0,currentPage:1,followingInProgress:[]},reducers:{setUsers:function(e,t){e.users=t.payload},setCurrentPage:function(e,t){e.currentPage=t.payload},setTotalUsersCount:function(e,t){e.totalUsersCount=t.payload},toggleIsFollowingProgress:{reducer:function(e,t){t.payload.followingInProgress?e.followingInProgress.push(t.payload.userId):e.followingInProgress=e.followingInProgress.filter((function(e){return e!==t.payload.userId}))},prepare:function(e,t){return{payload:{followingInProgress:e,userId:t}}}},followSuccess:function(e,t){e.users=e.users.map((function(e){return t.payload===e.id?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))},unfollowSuccess:function(e,t){e.users=e.users.map((function(e){return t.payload===e.id?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))}}}),l=c.reducer,m=c.actions;t.a=l;var d=m.setUsers,p=m.setCurrentPage,f=m.setTotalUsersCount,g=m.toggleIsFollowingProgress,b=m.followSuccess,v=m.unfollowSuccess,h=function(e,t){return function(){var a=Object(r.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(d(null)),n(p(e)),a.next=4,u.d.getUsers(e,t);case 4:r=a.sent,n(d(r.items)),n(f(r.totalCount));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0,e)),t.next=3,u.d.follow(e);case 3:0===t.sent&&a(b(e)),a(g(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0,e)),t.next=3,u.d.unfollow(e);case 3:0===t.sent&&a(v(e)),a(g(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},46:function(e,t,a){e.exports=a.p+"static/media/preloader.abaa7d13.svg"},47:function(e,t,a){e.exports={preloader:"Preloader_preloader__CNKtc"}},48:function(e,t,a){e.exports=a.p+"static/media/logo.7252e295.svg"},49:function(e,t,a){e.exports=a.p+"static/media/menu-button.b4b82800.svg"},5:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(63).default.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"518405bc-aa9c-4a48-a2e6-601627969783"}}),i={getUsers:function(e,t){return n.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return n.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},unfollow:function(e){return n.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))}},r={getAuthUserData:function(){return n.get("auth/me").then((function(e){return e.data}))},signIn:function(e){return n.post("auth/login",e).then((function(e){return e.data}))},signOut:function(){return n.delete("auth/login").then((function(e){return e.data}))}},s={getCaptcha:function(){return n.get("security/get-captcha-url").then((function(e){return e.data.url}))}},u={getProfileData:function(e){return n.get("profile/".concat(e)).then((function(e){return 200===e.status&&e.data}))},getStatus:function(e){return n.get("profile/status/".concat(e)).then((function(e){return 200===e.status&&e.data}))},updateStatus:function(e){return n.put("profile/status/",{status:e}).then((function(e){return e.data}))},changeMyPhoto:function(e){var t=new FormData;return t.append("image",e),n.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e}))},sendUserData:function(e){return n.put("profile/",e).then((function(e){return e.data}))}}},50:function(e,t,a){e.exports={main:"Main_main__3JhNz"}},52:function(e,t,a){e.exports=a(83)},54:function(e,t,a){},61:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=(a(54),a(25)),s=a.n(r),u=a(23),o=a(16),c=a(9),l=(a(61),a(21)),m=a(32),d=a.n(m),p=a(48),f=a.n(p),g=a(18),b=a(19),v=a(6),h=a(13),q=a.n(h),x=a(1),E=a.n(x),w=a(4),P=function(e,t){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))},I=function(e){var t=Object(n.useRef)(),a=function(){e.toggleDropDownMenu(!1)};P(t,a);var r=function(){var t=Object(w.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(),e.toggleSignOutInProcess(!0),t.prev=2,t.next=5,e.signOut();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.toggleSignOutInProcess(!1);case 10:e.toggleSignOutInProcess(!1);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{ref:t,className:q.a.dropDownMenu},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(v.b,{to:"/profile/".concat(e.userId),onClick:a},"Profile")),i.a.createElement("li",null,i.a.createElement(v.b,{to:"/settings",onClick:a},"Settings")),i.a.createElement("li",{onClick:r},"Sign out")))},O=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:h.login},e.fullName),i.a.createElement("div",{className:h.avatar},i.a.createElement("img",{src:e.avatar||e.defaultAvatar,alt:""})))},y=function(e){var t=e.toggleDropDownMenu,a=e.logo,n=e.fullName,r=e.avatar,s=e.defaultAvatar,u=e.dropDownMenu,o=e.isAuth,c=e.signOut,l=e.userId,m=e.toggleSignOutInProcess,d=e.menuButtonImg,p=e.setMainMenuIsActive;return i.a.createElement("header",{className:h.header},i.a.createElement("div",{className:h.headerContent},i.a.createElement("div",{className:h.logoBlock},i.a.createElement("div",{className:h.menuButton,onClick:function(){p(!0)}},i.a.createElement("img",{src:d,alt:"button"})),i.a.createElement("div",{className:h.logoImage},i.a.createElement("img",{src:a,alt:"logo"})),i.a.createElement(v.b,{to:"/profile/".concat(l),className:h.logoName},"WhoIAm")),o?i.a.createElement("div",{className:h.loginBlock,onClick:function(){t(!0)}},i.a.createElement(O,{fullName:n,avatar:r,defaultAvatar:s,dropDownMenu:u})):i.a.createElement("div",{className:h.loginBlock},i.a.createElement(v.b,{to:"/login"},"Login")),o&&u&&i.a.createElement(I,{signOut:c,toggleDropDownMenu:t,userId:l,toggleSignOutInProcess:m})))},k=a(49),L=a.n(k),_=Object(o.b)((function(e){return{defaultAvatar:d.a,avatar:e.profilePage.myProfile.photos.small,isAuth:e.auth.isAuth,userId:e.auth.userId,fullName:e.profilePage.myProfile.fullName,logo:f.a}}),{signOut:g.e,getMyUserProfile:b.e,toggleSignOutInProcess:g.f})((function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],s=a[1];return i.a.createElement(y,Object.assign({},e,{toggleDropDownMenu:function(e){s(e||!r)},dropDownMenu:r,toggleSignOutInProcess:e.toggleSignOutInProcess,menuButtonImg:L.a,setMainMenuIsActive:e.setMainMenuIsActive}))})),j=a(3),C=a(50),A=a.n(C),S=i.a.lazy((function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,163))})),M=i.a.lazy((function(){return a.e(11).then(a.bind(null,158))})),N=i.a.lazy((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,159))})),D=i.a.lazy((function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,165))})),U=i.a.lazy((function(){return a.e(6).then(a.bind(null,160))})),z=i.a.lazy((function(){return a.e(7).then(a.bind(null,161))})),H=i.a.lazy((function(){return a.e(9).then(a.bind(null,162))})),B=i.a.lazy((function(){return a.e(10).then(a.bind(null,164))})),F=Object(o.b)((function(e){return{signOutInProcess:e.auth.signOutInProcess}}))((function(e){var t=e.signOutInProcess;return i.a.createElement("main",{className:A.a.main},t?i.a.createElement(l.a,null):i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(l.a,null)},i.a.createElement(j.d,null,i.a.createElement(j.b,{path:"/profile/:userId?",component:S}),i.a.createElement(j.b,{path:"/dialogs",component:M}),i.a.createElement(j.b,{path:"/dialog/:userId?",component:N}),i.a.createElement(j.b,{path:"/news",component:z}),i.a.createElement(j.b,{path:"/music",component:U}),i.a.createElement(j.b,{path:"/settings",component:H}),i.a.createElement(j.b,{path:"/users",component:B}),i.a.createElement(j.b,{path:"/login",component:D}),i.a.createElement(j.a,{from:"/",to:"/profile"}),i.a.createElement(j.b,{path:"*",render:function(){return i.a.createElement("h2",null,"404 NOT FOUND")}}))))})),J=a(24),T=a(15),K=a.n(T),R=a(31),W=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}}))((function(e){var t=Object(n.useRef)();P(t,(function(){e.mainMenuIsActive&&e.setMainMenuIsActive(!1)}));var a=function(){e.mainMenuIsActive&&e.setMainMenuIsActive(!1)};return i.a.createElement("aside",{ref:t,className:R(K.a.sidebar,Object(J.a)({},K.a.menuIsActive,e.mainMenuIsActive))},i.a.createElement("nav",{className:K.a.nav},i.a.createElement("ul",{className:K.a.list},e.isAuth&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{onClick:a},i.a.createElement(v.b,{to:"/profile/".concat(e.userId),activeClassName:K.a.active},"Profile")),i.a.createElement("li",{onClick:a},i.a.createElement(v.b,{to:"/dialogs",activeClassName:K.a.active},"Dialogs")),i.a.createElement("li",{onClick:a},i.a.createElement(v.b,{to:"/news",activeClassName:K.a.active},"News")),i.a.createElement("li",{onClick:a},i.a.createElement(v.b,{to:"/music",activeClassName:K.a.active},"Music"))),i.a.createElement("li",{onClick:a},i.a.createElement(v.b,{to:"/users",activeClassName:K.a.active},"Users")))))})),Q=(a(82),a(10)),V=Object(Q.b)({name:"app",initialState:{initialized:!1},reducers:{initializedSuccessfully:function(e,t){e.initialized=t.payload}}}),X=V.reducer,Y=V.actions.initializedSuccessfully,$=X,G=a(43),Z=a(44),ee=Object(Q.c)({immutableCheck:!1,serializableCheck:!1,thunk:!0}),te=Object(Q.a)({reducer:{dialogs:G.a,profilePage:b.d,usersPage:Z.a,auth:g.a,app:$},middleware:ee,devTools:!1}),ae=Object(c.d)(Object(o.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(g.b)());case 2:t(Y(!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))((function(e){var t=e.initializeApp,a=e.initialized,r=Object(n.useState)(!1),s=Object(u.a)(r,2),o=s[0],c=s[1];return Object(n.useEffect)((function(){t()}),[t]),a?i.a.createElement("div",{className:"app-wrapper"},i.a.createElement(_,{setMainMenuIsActive:c}),i.a.createElement(W,{mainMenuIsActive:o,setMainMenuIsActive:c}),i.a.createElement(F,null)):i.a.createElement(l.a,null)})),ne=function(){return i.a.createElement(v.a,null,i.a.createElement(o.a,{store:te},i.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,2,3]]]);
//# sourceMappingURL=main.e365418d.chunk.js.map