{"version":3,"sources":["components/Main/Profile/ProfileStatus.js","components/Main/Profile/PageInfoWrap.js","components/Main/Profile/NewPostBlock.js","components/Main/Profile/ExistingPostsBlock.js","components/Main/Profile/Profile.js","components/Main/Profile/ProfileContainer.js","components/Main/Profile/Profile.module.scss","utilities/validators/validators.js","components/common/FormControls/FormControls.js","assets/image/les_tuman_derevia.jpg"],"names":["React","memo","status","updateUserStatus","isMyProfile","useState","editMode","setEditMode","statusInState","setStatusInState","useEffect","className","styles","onChange","e","currentTarget","value","autoFocus","onBlur","onDoubleClick","undefined","title","myStatus","enterStatus","ContactsItems","item","titleItem","contactsItem","Contacts","facebook","website","vk","twitter","instagram","github","mainLink","youtube","rightBlock","contactsTitle","PageInfoWrap","profile","defaultAvatar","changeMyPhoto","Preloader","contacts","photos","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","pageWrap","avatar","src","large","alt","type","target","files","length","pageInfoWrap","pageName","pageInfo","leftBlock","pageInfoRow","props","onSubmit","values","form","addPost","newPostInput","setTimeout","restart","render","handleSubmit","newPostBlock","name","component","Input","validate","fullValidation","placeholder","buttonWrap","existingPostsBlock","posts","map","el","key","id","post","textPost","likes","amountLikes","reverse","topImage","existingPosts","isAuth","contentBlockWrapper","contentBlock","postsBlock","mapDispatchToProps","getAuthUserData","getProfile","compose","connect","state","profilePage","auth","authUserId","userId","withRouter","match","params","userIdInAddressBar","setIsMyProfile","to","module","exports","min","max","mess","validators","reduce","error","validator","composeValidators","minLength","maxLength","message","FormControl","input","meta","Element","element","touched","Textarea"],"mappings":"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","file":"static/js/5.dd5c21d1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from './Profile.module.scss';\r\n\r\nconst ProfileStatus = ({ status, updateUserStatus, isMyProfile }) => {\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [statusInState, setStatusInState] = useState(status);\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t};\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tupdateUserStatus(statusInState);\r\n\t};\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatusInState(e.currentTarget.value);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetStatusInState(status);\r\n\t}, [status]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{editMode ? (\r\n\t\t\t\t<div className={styles.status}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonChange={onStatusChange}\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={statusInState}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : status || isMyProfile ? (\r\n\t\t\t\t<div className={styles.status}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tonDoubleClick={isMyProfile ? activateEditMode : undefined}\r\n\t\t\t\t\t\ttitle={isMyProfile ? 'Double click to change your status' : ''}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tisMyProfile ? (status ? styles.myStatus : styles.enterStatus) : ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{status || 'Enter your status...'}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t) : undefined}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default React.memo(ProfileStatus);\r\n","import React from 'react';\r\nimport styles from './Profile.module.scss';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\nconst ContactsItems = ({ item, titleItem }) =>\r\n\titem ? (\r\n\t\t<div className={styles.contactsItem}>\r\n\t\t\t<span>{titleItem}</span> {item}\r\n\t\t</div>\r\n\t) : (\r\n\t\t''\r\n\t);\r\n\r\nconst Contacts = ({\r\n\tfacebook,\r\n\twebsite,\r\n\tvk,\r\n\ttwitter,\r\n\tinstagram,\r\n\tgithub,\r\n\tmainLink,\r\n\tyoutube,\r\n}) => {\r\n\treturn facebook ||\r\n\t\twebsite ||\r\n\t\tvk ||\r\n\t\ttwitter ||\r\n\t\tinstagram ||\r\n\t\tgithub ||\r\n\t\tmainLink ||\r\n\t\tyoutube ? (\r\n\t\t<div className={styles.rightBlock}>\r\n\t\t\t<div className={styles.contactsTitle}>Contacts:</div>\r\n\t\t\t<ContactsItems item={facebook} titleItem={'Facebook:'} />\r\n\t\t\t<ContactsItems item={website} titleItem={'Website:'} />\r\n\t\t\t<ContactsItems item={vk} titleItem={'Vk:'} />\r\n\t\t\t<ContactsItems item={twitter} titleItem={'Twitter:'} />\r\n\t\t\t<ContactsItems item={instagram} titleItem={'Instagram:'} />\r\n\t\t\t<ContactsItems item={github} titleItem={'GitHub:'} />\r\n\t\t\t<ContactsItems item={mainLink} titleItem={'Main Link:'} />\r\n\t\t\t<ContactsItems item={youtube} titleItem={'YouTube:'} />\r\n\t\t</div>\r\n\t) : (\r\n\t\t''\r\n\t);\r\n};\r\n\r\nconst PageInfoWrap = ({\r\n\tprofile,\r\n\tdefaultAvatar,\r\n\tisMyProfile,\r\n\tstatus,\r\n\tupdateUserStatus,\r\n\tchangeMyPhoto,\r\n}) => {\r\n\tif (!profile) {\r\n\t\treturn <Preloader />;\r\n\t}\r\n\r\n\tconst {\r\n\t\tcontacts,\r\n\t\tphotos,\r\n\t\tfullName,\r\n\t\taboutMe,\r\n\t\tlookingForAJob,\r\n\t\tlookingForAJobDescription,\r\n\t} = profile;\r\n\r\n\tconst onMyPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tchangeMyPhoto(e.target.files[0]);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.pageWrap}>\r\n\t\t\t<div className={styles.avatar}>\r\n\t\t\t\t<img src={photos.large || defaultAvatar} alt='avatar' />\r\n\t\t\t\t{isMyProfile && <input type='file' onChange={onMyPhotoSelected} />}\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.pageInfoWrap}>\r\n\t\t\t\t<div className={styles.pageName}>{fullName}</div>\r\n\t\t\t\t<ProfileStatus\r\n\t\t\t\t\tisMyProfile={isMyProfile}\r\n\t\t\t\t\tstatus={status}\r\n\t\t\t\t\tupdateUserStatus={updateUserStatus}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={styles.pageInfo}>\r\n\t\t\t\t\t<div className={styles.leftBlock}>\r\n\t\t\t\t\t\t{aboutMe ? (\r\n\t\t\t\t\t\t\t<div className={styles.pageInfoRow}>\r\n\t\t\t\t\t\t\t\t<span>About me:</span> {aboutMe}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={styles.pageInfoRow}>\r\n\t\t\t\t\t\t\t<span>Looking for a job:</span> {lookingForAJob ? 'Yes' : 'No'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{lookingForAJobDescription ? (\r\n\t\t\t\t\t\t\t<div className={styles.pageInfoRow}>\r\n\t\t\t\t\t\t\t\t{lookingForAJobDescription}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Contacts contacts={contacts} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageInfoWrap;\r\n","import React from 'react';\r\nimport styles from './Profile.module.scss';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { fullValidation } from '../../../utilities/validators/validators';\r\nimport { Input } from '../../common/FormControls/FormControls';\r\n\r\nconst NewPostBlock = (props) => (\r\n\t<Form\r\n\t\tonSubmit={(values, form) => {\r\n\t\t\tprops.addPost(values.newPostInput);\r\n\t\t\tsetTimeout(form.restart);\r\n\t\t}}\r\n\t\trender={({ handleSubmit }) => (\r\n\t\t\t<form className={styles.newPostBlock} onSubmit={handleSubmit}>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname=\"newPostInput\"\r\n\t\t\t\t\tcomponent={Input}\r\n\t\t\t\t\tvalidate={fullValidation('', 1000, 'Enter the text of your message')}\r\n\t\t\t\t\tplaceholder={`What's up?`}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={styles.buttonWrap}>\r\n\t\t\t\t\t<button type=\"submit\">Add post</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)}\r\n\t/>\r\n);\r\n\r\nexport default React.memo(NewPostBlock);\r\n","import React from 'react';\r\nimport styles from './Profile.module.scss';\r\n\r\nconst ExistingPostsBlock = (props) => (\r\n\t<div className={styles.existingPostsBlock}>\r\n\t\t{props.posts.map((el) => (\r\n\t\t\t<div key={el.id} className={styles.post}>\r\n\t\t\t\t<div>{el.textPost}</div>\r\n\t\t\t\t<div className={styles.likes}>{el.amountLikes} likes</div>\r\n\t\t\t</div>\r\n\t\t)).reverse()}\r\n\t</div>\r\n);\r\n\r\nexport default React.memo(ExistingPostsBlock);\r\n","import React from 'react';\r\nimport styles from './Profile.module.scss';\r\nimport PageInfoWrap from './PageInfoWrap';\r\nimport NewPostBlock from './NewPostBlock';\r\nimport ExistingPostsBlock from './ExistingPostsBlock';\r\n\r\nconst Profile = ({\r\n\ttopImage,\r\n\tisMyProfile,\r\n\tprofile,\r\n\tdefaultAvatar,\r\n\tstatus,\r\n\tupdateUserStatus,\r\n\taddPost,\r\n\texistingPosts,\r\n\tisAuth,\r\n\tchangeMyPhoto,\r\n}) => {\r\n\treturn (\r\n\t\t<div className={styles.profile}>\r\n\t\t\t<div className={styles.topImage}>\r\n\t\t\t\t<img src={topImage} alt='cover' />\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.contentBlockWrapper}>\r\n\t\t\t\t<div className={styles.contentBlock}>\r\n\t\t\t\t\t<PageInfoWrap\r\n\t\t\t\t\t\tisMyProfile={isMyProfile}\r\n\t\t\t\t\t\tprofile={profile}\r\n\t\t\t\t\t\tdefaultAvatar={defaultAvatar}\r\n\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\tupdateUserStatus={updateUserStatus}\r\n\t\t\t\t\t\tchangeMyPhoto={changeMyPhoto}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className={styles.postsBlock}>\r\n\t\t\t\t\t\t{isAuth ? <NewPostBlock addPost={addPost} /> : ''}\r\n\t\t\t\t\t\t<ExistingPostsBlock posts={existingPosts} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default React.memo(Profile);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport defaultAvatar from '../../../assets/image/defaultAvatar.jpg';\r\nimport topImage from '../../../assets/image/les_tuman_derevia.jpg';\r\nimport { getAuthUserData } from '../../../redux/reducers/authReducer';\r\nimport {\r\n\taddPost,\r\n\tgetProfile,\r\n\tupdateUserStatus,\r\n\tchangeMyPhoto,\r\n} from '../../../redux/reducers/profileReducer';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Profile from './Profile';\r\n\r\nconst ProfileContainer = (props) => {\r\n\tconst {\r\n\t\tmatch: {\r\n\t\t\tparams: { userId },\r\n\t\t},\r\n\t\tauthUserId,\r\n\t\tgetProfile,\r\n\t\tisAuth,\r\n\t\tprofile,\r\n\t} = props;\r\n\r\n\tconst userIdInAddressBar = +userId;\r\n\r\n\t// Индикатор профиля авторизованного пользователя\r\n\tconst [isMyProfile, setIsMyProfile] = useState(false);\r\n\r\n\t// Выполняется при первом рендере и после каждого изменения id в адресной строке\r\n\tuseEffect(() => {\r\n\t\t// Если в адресной строке есть id\r\n\t\tif (userIdInAddressBar) {\r\n\t\t\t// Если id авторизованного пользователя и id в адресной строке совпадает\r\n\t\t\t// Указывает, что это профиль пользователя\r\n\t\t\tif (authUserId === userIdInAddressBar) {\r\n\t\t\t\tsetIsMyProfile(true);\r\n\t\t\t}\r\n\t\t\t// Запрос данных пользователя\r\n\t\t\tgetProfile(userIdInAddressBar);\r\n\t\t}\r\n\t}, [userIdInAddressBar, authUserId, getProfile]);\r\n\r\n\t// Если пользователь выполнил выход\r\n\tuseEffect(() => {\r\n\t\tif (!isAuth) {\r\n\t\t\tsetIsMyProfile(false);\r\n\t\t}\r\n\t}, [isAuth]);\r\n\r\n\t// Если в адресной строке указан id\r\n\tif (userIdInAddressBar) {\r\n\t\treturn profile ? (\r\n\t\t\t// Если данные профиля получены\r\n\t\t\t<Profile {...props} isMyProfile={isMyProfile} />\r\n\t\t) : (\r\n\t\t\t// Если идет получение данных\r\n\t\t\t<Preloader />\r\n\t\t);\r\n\t} else {\r\n\t\t// Если в адресной строке не указан id\r\n\t\treturn isAuth ? (\r\n\t\t\t// Редирект на профиль авторизованного пользователя\r\n\t\t\t<Redirect to={`/profile/${authUserId}`} />\r\n\t\t) : (\r\n\t\t\t// Если не авторизован, редирект на страницу логинизации\r\n\t\t\t<Redirect to='/login' />\r\n\t\t);\r\n\t}\r\n};\r\n\r\n// Данные из state передаваемые в props компонента\r\nconst mapStateToProps = (state) => ({\r\n\ttopImage,\r\n\tdefaultAvatar,\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tisAuth: state.auth.isAuth,\r\n\tauthUserId: state.auth.userId,\r\n\texistingPosts: state.profilePage.existingPosts,\r\n});\r\n\r\n// Actions for dispatchs\r\nconst mapDispatchToProps = {\r\n\tupdateUserStatus,\r\n\tgetAuthUserData,\r\n\taddPost,\r\n\tgetProfile,\r\n\tchangeMyPhoto\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithRouter\r\n)(ProfileContainer);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3cqaC\",\"topImage\":\"Profile_topImage__1QeV6\",\"contentBlockWrapper\":\"Profile_contentBlockWrapper__1FqB6\",\"contentBlock\":\"Profile_contentBlock__65spg\",\"pageWrap\":\"Profile_pageWrap__3msTY\",\"avatar\":\"Profile_avatar__2HO6t\",\"pageInfoWrap\":\"Profile_pageInfoWrap__1UdYi\",\"pageName\":\"Profile_pageName__13q-Z\",\"status\":\"Profile_status__1rx6s\",\"myStatus\":\"Profile_myStatus__mCoRb\",\"enterStatus\":\"Profile_enterStatus__1MqOo\",\"pageInfo\":\"Profile_pageInfo__3tZPq\",\"leftBlock\":\"Profile_leftBlock__22m0d\",\"pageInfoRow\":\"Profile_pageInfoRow__JDm_r\",\"rightBlock\":\"Profile_rightBlock__13643\",\"contactsTitle\":\"Profile_contactsTitle__3FTfj\",\"contactsItem\":\"Profile_contactsItem__30pyP\",\"postsBlock\":\"Profile_postsBlock__zeNoh\",\"newPostBlock\":\"Profile_newPostBlock__giv8A\",\"buttonWrap\":\"Profile_buttonWrap__1RmpI\",\"existingPostsBlock\":\"Profile_existingPostsBlock__2kvb8\",\"post\":\"Profile_post__2MTw2\",\"likes\":\"Profile_likes__2O56D\"};","const required = (message) => (value) => (value ? undefined : message);\r\n\r\nconst maxLength = (max) => (value) =>\r\n\tvalue && value.length > max ? `Max length is ${max} symbols` : undefined;\r\n\r\nconst minLength = (min) => (value) =>\r\n\tvalue && value.length < min ? `Min length is ${min} symbols` : undefined;\r\n\r\nconst composeValidators = (...validators) => (value) =>\r\n\tvalidators.reduce((error, validator) => error || validator(value), undefined);\r\n\r\nexport const fullValidation = (min, max, mess) =>\r\n\tcomposeValidators(minLength(min), maxLength(max), required(mess));\r\n","import React from 'react';\r\n\r\n// Компонент возвращающий поле для ввода, применяется в Field\r\n// Принимает данные ввода и мета-данные (ошибки и тд.)\r\nconst FormControl = ({ input, meta, ...props }) => {\r\n\t// Принимает в пропсах нужное поле ввода (input, textarea...)\r\n\tconst Element = props.element;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* Создание поля ввода и передача в него данных */}\r\n\t\t\t<Element {...input} placeholder={props.placeholder} />\r\n\t\t\t{/* Вывод на основании ошибок валидации */}\r\n\t\t\t{meta.error &&\r\n\t\t\t\t// Если есть ошибка и введено больше 5 символов, выводит ошибку\r\n\t\t\t\t(input.value.length > 5 ? (\r\n\t\t\t\t\t<span>{meta.error}</span>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t// Если есть ошибка, но символов меньше 5, выводит ошибку когда поле было затронуто\r\n\t\t\t\t\tmeta.touched && <span>{meta.error}</span>\r\n\t\t\t\t))}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\n// Компоненты для создания конкретных полей ввода\r\nexport const Input = (props) => {\r\n\treturn <FormControl element=\"input\" {...props} />;\r\n};\r\nexport const Textarea = (props) => (\r\n\t<FormControl element=\"textarea\" {...props} />\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/les_tuman_derevia.712fe5c8.jpg\";"],"sourceRoot":""}