(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{106:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(0),o=a.n(r),l=a(17),s=a(3),c=a(9),i=a(32),u=a.n(i),m=a(93),f=a.n(m),p=a(19),g=a(18),d=a(23),_=a(86),E=a.n(_),v=o.a.memo((function(e){var t=e.status,a=e.updateUserStatus,l=e.isMyProfile,s=Object(r.useState)(!1),c=Object(n.a)(s,2),i=c[0],u=c[1],m=Object(r.useState)(t),f=Object(n.a)(m,2),p=f[0],g=f[1];return Object(r.useEffect)((function(){g(t)}),[t]),o.a.createElement(o.a.Fragment,null,i?o.a.createElement("div",{className:E.a.status},o.a.createElement("input",{onChange:function(e){g(e.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),a(p)},value:p})):t||l?o.a.createElement("div",{className:E.a.status},o.a.createElement("span",{onDoubleClick:l?function(){u(!0)}:void 0,title:l?"Double click to change your status":"",className:l?t?E.a.myStatus:E.a.enterStatus:""},t||"Enter your status...")):void 0)})),P=function(e){var t=e.item,a=e.titleItem;return t?o.a.createElement("div",{className:E.a.contactsItem},o.a.createElement("span",null,a)," ",t):""},b=function(e){var t=e.facebook,a=e.website,n=e.vk,r=e.twitter,l=e.instagram,s=e.github,c=e.mainLink,i=e.youtube;return t||a||n||r||l||s||c||i?o.a.createElement("div",{className:E.a.rightBlock},o.a.createElement("div",{className:E.a.contactsTitle},"Contacts:"),o.a.createElement(P,{item:t,titleItem:"Facebook:"}),o.a.createElement(P,{item:a,titleItem:"Website:"}),o.a.createElement(P,{item:n,titleItem:"Vk:"}),o.a.createElement(P,{item:r,titleItem:"Twitter:"}),o.a.createElement(P,{item:l,titleItem:"Instagram:"}),o.a.createElement(P,{item:s,titleItem:"GitHub:"}),o.a.createElement(P,{item:c,titleItem:"Main Link:"}),o.a.createElement(P,{item:i,titleItem:"YouTube:"})):""},h=function(e){var t=e.profile,a=e.defaultAvatar,n=e.isMyProfile,r=e.status,l=e.updateUserStatus,s=e.changeMyPhoto;if(!t)return o.a.createElement(d.a,null);var c=t.contacts,i=t.photos,u=t.fullName,m=t.aboutMe,f=t.lookingForAJob,p=t.lookingForAJobDescription;return o.a.createElement("div",{className:E.a.pageWrap},o.a.createElement("div",{className:E.a.avatar},o.a.createElement("img",{src:i.large||a,alt:"avatar"}),n&&o.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})),o.a.createElement("div",{className:E.a.pageInfoWrap},o.a.createElement("div",{className:E.a.pageName},u),o.a.createElement(v,{isMyProfile:n,status:r,updateUserStatus:l}),o.a.createElement("div",{className:E.a.pageInfo},o.a.createElement("div",{className:E.a.leftBlock},m?o.a.createElement("div",{className:E.a.pageInfoRow},o.a.createElement("span",null,"About me:")," ",m):"",o.a.createElement("div",{className:E.a.pageInfoRow},o.a.createElement("span",null,"Looking for a job:")," ",f?"Yes":"No"),p?o.a.createElement("div",{className:E.a.pageInfoRow},p):""),o.a.createElement(b,{contacts:c}))))},k=a(89),I=a(87),N=a(88),y=o.a.memo((function(e){return o.a.createElement(k.b,{onSubmit:function(t,a){e.addPost(t.newPostInput),setTimeout(a.restart)},render:function(e){var t=e.handleSubmit;return o.a.createElement("form",{className:E.a.newPostBlock,onSubmit:t},o.a.createElement(k.a,{name:"newPostInput",component:N.a,validate:Object(I.a)("",1e3,"Enter the text of your message"),placeholder:"What's up?"}),o.a.createElement("div",{className:E.a.buttonWrap},o.a.createElement("button",{type:"submit"},"Add post")))}})})),B=o.a.memo((function(e){return o.a.createElement("div",{className:E.a.existingPostsBlock},e.posts.map((function(e){return o.a.createElement("div",{key:e.id,className:E.a.post},o.a.createElement("div",null,e.textPost),o.a.createElement("div",{className:E.a.likes},e.amountLikes," likes"))})).reverse())})),j=o.a.memo((function(e){var t=e.topImage,a=e.isMyProfile,n=e.profile,r=e.defaultAvatar,l=e.status,s=e.updateUserStatus,c=e.addPost,i=e.existingPosts,u=e.isAuth,m=e.changeMyPhoto;return o.a.createElement("div",{className:E.a.profile},o.a.createElement("div",{className:E.a.topImage},o.a.createElement("img",{src:t,alt:"cover"})),o.a.createElement("div",{className:E.a.contentBlockWrapper},o.a.createElement("div",{className:E.a.contentBlock},o.a.createElement(h,{isMyProfile:a,profile:n,defaultAvatar:r,status:l,updateUserStatus:s,changeMyPhoto:m}),o.a.createElement("div",{className:E.a.postsBlock},u?o.a.createElement(y,{addPost:c}):"",o.a.createElement(B,{posts:i})))))})),O={updateUserStatus:g.g,getAuthUserData:p.b,addPost:g.a,getProfile:g.e,changeMyPhoto:g.b};t.default=Object(c.d)(Object(l.b)((function(e){return{topImage:f.a,defaultAvatar:u.a,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId,existingPosts:e.profilePage.existingPosts}}),O),s.f)((function(e){var t=e.match.params.userId,a=e.authUserId,l=e.getProfile,c=e.isAuth,i=e.profile,u=+t,m=Object(r.useState)(!1),f=Object(n.a)(m,2),p=f[0],g=f[1];return Object(r.useEffect)((function(){u&&(a===u&&g(!0),l(u))}),[u,a,l]),Object(r.useEffect)((function(){c||g(!1)}),[c]),u?i?o.a.createElement(j,Object.assign({},e,{isMyProfile:p})):o.a.createElement(d.a,null):c?o.a.createElement(s.a,{to:"/profile/".concat(a)}):o.a.createElement(s.a,{to:"/login"})}))},86:function(e,t,a){e.exports={profile:"Profile_profile__3cqaC",topImage:"Profile_topImage__1QeV6",contentBlockWrapper:"Profile_contentBlockWrapper__1FqB6",contentBlock:"Profile_contentBlock__65spg",pageWrap:"Profile_pageWrap__3msTY",avatar:"Profile_avatar__2HO6t",pageInfoWrap:"Profile_pageInfoWrap__1UdYi",pageName:"Profile_pageName__13q-Z",status:"Profile_status__1rx6s",myStatus:"Profile_myStatus__mCoRb",enterStatus:"Profile_enterStatus__1MqOo",pageInfo:"Profile_pageInfo__3tZPq",leftBlock:"Profile_leftBlock__22m0d",pageInfoRow:"Profile_pageInfoRow__JDm_r",rightBlock:"Profile_rightBlock__13643",contactsTitle:"Profile_contactsTitle__3FTfj",contactsItem:"Profile_contactsItem__30pyP",postsBlock:"Profile_postsBlock__zeNoh",newPostBlock:"Profile_newPostBlock__giv8A",buttonWrap:"Profile_buttonWrap__1RmpI",existingPostsBlock:"Profile_existingPostsBlock__2kvb8",post:"Profile_post__2MTw2",likes:"Profile_likes__2O56D"}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t,a){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}}(function(e){return function(t){return t&&t.length<e?"Min length is ".concat(e," symbols"):void 0}}(e),function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(t),(n=a,function(e){return e?void 0:n}));var n}},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var n=a(90),r=a(0),o=a.n(r),l=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),l=r.element;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,Object.assign({},t,{placeholder:r.placeholder})),a.error&&(t.value.length>5||a.touched)&&o.a.createElement("span",null,a.error))},s=function(e){return o.a.createElement(l,Object.assign({element:"input"},e))},c=function(e){return o.a.createElement(l,Object.assign({element:"textarea"},e))}},93:function(e,t,a){e.exports=a.p+"static/media/les_tuman_derevia.712fe5c8.jpg"}}]);
//# sourceMappingURL=5.dd5c21d1.chunk.js.map